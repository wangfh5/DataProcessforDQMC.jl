<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · DataProcessforDQMC.jl</title><meta name="title" content="API Reference · DataProcessforDQMC.jl"/><meta property="og:title" content="API Reference · DataProcessforDQMC.jl"/><meta property="twitter:title" content="API Reference · DataProcessforDQMC.jl"/><meta name="description" content="Documentation for DataProcessforDQMC.jl."/><meta property="og:description" content="Documentation for DataProcessforDQMC.jl."/><meta property="twitter:description" content="Documentation for DataProcessforDQMC.jl."/><meta property="og:url" content="https://wangfh5.github.io/DataProcessforDQMC.jl/api/"/><meta property="twitter:url" content="https://wangfh5.github.io/DataProcessforDQMC.jl/api/"/><link rel="canonical" href="https://wangfh5.github.io/DataProcessforDQMC.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DataProcessforDQMC.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../precompilation/">预编译指南</a></li><li><a class="tocitem" href="../bin_analysis/">Bin Analysis与数据处理指南</a></li><li><a class="tocitem" href="../multi_parameter_analysis/">多参数分析指南</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#索引"><span>索引</span></a></li><li><a class="tocitem" href="#完整-API-文档"><span>完整 API 文档</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/wangfh5/DataProcessforDQMC.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="api_reference"><a class="docs-heading-anchor" href="#api_reference">API Reference</a><a id="api_reference-1"></a><a class="docs-heading-anchor-permalink" href="#api_reference" title="Permalink"></a></h1><p>本页面包含 DataProcessforDQMC.jl 的完整 API 参考文档。</p><h2 id="索引"><a class="docs-heading-anchor" href="#索引">索引</a><a id="索引-1"></a><a class="docs-heading-anchor-permalink" href="#索引" title="Permalink"></a></h2><ul><li><a href="#DataProcessforDQMC.AFMCorrelationRatio"><code>DataProcessforDQMC.AFMCorrelationRatio</code></a></li><li><a href="#DataProcessforDQMC.AFMStructureFactor"><code>DataProcessforDQMC.AFMStructureFactor</code></a></li><li><a href="#DataProcessforDQMC.CDWCorrelationRatio"><code>DataProcessforDQMC.CDWCorrelationRatio</code></a></li><li><a href="#DataProcessforDQMC.CDWStructureFactor"><code>DataProcessforDQMC.CDWStructureFactor</code></a></li><li><a href="#DataProcessforDQMC.CorrelationAnalysis"><code>DataProcessforDQMC.CorrelationAnalysis</code></a></li><li><a href="#DataProcessforDQMC.EnergyAnalysis"><code>DataProcessforDQMC.EnergyAnalysis</code></a></li><li><a href="#DataProcessforDQMC.KSpaceCorrelationAnalysis"><code>DataProcessforDQMC.KSpaceCorrelationAnalysis</code></a></li><li><a href="#DataProcessforDQMC.MultiOrbitalCorrelationAnalysis"><code>DataProcessforDQMC.MultiOrbitalCorrelationAnalysis</code></a></li><li><a href="#DataProcessforDQMC.MultiOrbitalKSpaceCorrelationAnalysis"><code>DataProcessforDQMC.MultiOrbitalKSpaceCorrelationAnalysis</code></a></li><li><a href="#DataProcessforDQMC.MultiOrbitalStructureFactorAnalysis"><code>DataProcessforDQMC.MultiOrbitalStructureFactorAnalysis</code></a></li><li><a href="#DataProcessforDQMC.StructureFactorAnalysis"><code>DataProcessforDQMC.StructureFactorAnalysis</code></a></li><li><a href="#DataProcessforDQMC.afm_k_files_generation"><code>DataProcessforDQMC.afm_k_files_generation</code></a></li><li><a href="#DataProcessforDQMC.analyze_AFM_correlation_ratio_multi_parameter"><code>DataProcessforDQMC.analyze_AFM_correlation_ratio_multi_parameter</code></a></li><li><a href="#DataProcessforDQMC.analyze_AFM_structure_factor_multi_parameter"><code>DataProcessforDQMC.analyze_AFM_structure_factor_multi_parameter</code></a></li><li><a href="#DataProcessforDQMC.analyze_CDW_correlation_ratio_multi_parameter"><code>DataProcessforDQMC.analyze_CDW_correlation_ratio_multi_parameter</code></a></li><li><a href="#DataProcessforDQMC.analyze_CDW_structure_factor_multi_parameter"><code>DataProcessforDQMC.analyze_CDW_structure_factor_multi_parameter</code></a></li><li><a href="#DataProcessforDQMC.analyze_correlation_ratio_multi_parameter"><code>DataProcessforDQMC.analyze_correlation_ratio_multi_parameter</code></a></li><li><a href="#DataProcessforDQMC.analyze_structure_factor_multi_parameter"><code>DataProcessforDQMC.analyze_structure_factor_multi_parameter</code></a></li><li><a href="#DataProcessforDQMC.batch_migrate_directories"><code>DataProcessforDQMC.batch_migrate_directories</code></a></li><li><a href="#DataProcessforDQMC.bin_filter-Tuple{DataFrames.DataFrame}"><code>DataProcessforDQMC.bin_filter</code></a></li><li><a href="#DataProcessforDQMC.calculate_i_coord-NTuple{4, Any}"><code>DataProcessforDQMC.calculate_i_coord</code></a></li><li><a href="#DataProcessforDQMC.calculate_statistics-Tuple{Any, Any}"><code>DataProcessforDQMC.calculate_statistics</code></a></li><li><a href="#DataProcessforDQMC.cdwpair_k_files_generation"><code>DataProcessforDQMC.cdwpair_k_files_generation</code></a></li><li><a href="#DataProcessforDQMC.combine_bin_files"><code>DataProcessforDQMC.combine_bin_files</code></a></li><li><a href="#DataProcessforDQMC.combine_cdwpair_components"><code>DataProcessforDQMC.combine_cdwpair_components</code></a></li><li><a href="#DataProcessforDQMC.combine_ss_components"><code>DataProcessforDQMC.combine_ss_components</code></a></li><li><a href="#DataProcessforDQMC.compute_stats-Tuple{Any, Any}"><code>DataProcessforDQMC.compute_stats</code></a></li><li><a href="#DataProcessforDQMC.create_cdw_from_nn"><code>DataProcessforDQMC.create_cdw_from_nn</code></a></li><li><a href="#DataProcessforDQMC.error-Tuple{Any}"><code>DataProcessforDQMC.error</code></a></li><li><a href="#DataProcessforDQMC.error_ns-Tuple{Any}"><code>DataProcessforDQMC.error_ns</code></a></li><li><a href="#DataProcessforDQMC.euclidean_distance-Tuple{Any, Any}"><code>DataProcessforDQMC.euclidean_distance</code></a></li><li><a href="#DataProcessforDQMC.export_bin_to_csv"><code>DataProcessforDQMC.export_bin_to_csv</code></a></li><li><a href="#DataProcessforDQMC.export_bin_to_dataframe"><code>DataProcessforDQMC.export_bin_to_dataframe</code></a></li><li><a href="#DataProcessforDQMC.export_bin_to_jld2"><code>DataProcessforDQMC.export_bin_to_jld2</code></a></li><li><a href="#DataProcessforDQMC.export_directory_bins"><code>DataProcessforDQMC.export_directory_bins</code></a></li><li><a href="#DataProcessforDQMC.filter"><code>DataProcessforDQMC.filter</code></a></li><li><a href="#DataProcessforDQMC.filter_bin_file-Tuple{String, Union{Tuple{Float64, Float64}, Tuple{Int64, Int64}}}"><code>DataProcessforDQMC.filter_bin_file</code></a></li><li><a href="#DataProcessforDQMC.filter_bins-Tuple{DataFrames.DataFrame, Int64, Union{Nothing, Int64}, Int64, Int64, Bool}"><code>DataProcessforDQMC.filter_bins</code></a></li><li><a href="#DataProcessforDQMC.find_closest_k_point-Tuple{Vector{&lt;:Tuple{var&quot;#s9&quot;, var&quot;#s10&quot;} where {var&quot;#s9&quot;&lt;:Real, var&quot;#s10&quot;&lt;:Real}}, Tuple{Real, Real}, Float64}"><code>DataProcessforDQMC.find_closest_k_point</code></a></li><li><a href="#DataProcessforDQMC.find_coordinate_index"><code>DataProcessforDQMC.find_coordinate_index</code></a></li><li><a href="#DataProcessforDQMC.format_edgerdata-Tuple{String, String}"><code>DataProcessforDQMC.format_edgerdata</code></a></li><li><a href="#DataProcessforDQMC.format_edgerfulldata-Tuple{String, String}"><code>DataProcessforDQMC.format_edgerfulldata</code></a></li><li><a href="#DataProcessforDQMC.format_energy-Tuple{String, Vector{String}}"><code>DataProcessforDQMC.format_energy</code></a></li><li><a href="#DataProcessforDQMC.format_expRenyi_2p_edge-Tuple{String}"><code>DataProcessforDQMC.format_expRenyi_2p_edge</code></a></li><li><a href="#DataProcessforDQMC.format_kdata-Tuple{String, String}"><code>DataProcessforDQMC.format_kdata</code></a></li><li><a href="#DataProcessforDQMC.format_onecol-Tuple{String, String}"><code>DataProcessforDQMC.format_onecol</code></a></li><li><a href="#DataProcessforDQMC.format_pair_onsite_alledges-Tuple{String}"><code>DataProcessforDQMC.format_pair_onsite_alledges</code></a></li><li><a href="#DataProcessforDQMC.format_pair_onsite_r-Tuple{String, Int64}"><code>DataProcessforDQMC.format_pair_onsite_r</code></a></li><li><a href="#DataProcessforDQMC.format_rdata-Tuple{String, String}"><code>DataProcessforDQMC.format_rdata</code></a></li><li><a href="#DataProcessforDQMC.format_value_error"><code>DataProcessforDQMC.format_value_error</code></a></li><li><a href="#DataProcessforDQMC.generate_all_derived_files"><code>DataProcessforDQMC.generate_all_derived_files</code></a></li><li><a href="#DataProcessforDQMC.generate_all_derived_files_recursive"><code>DataProcessforDQMC.generate_all_derived_files_recursive</code></a></li><li><a href="#DataProcessforDQMC.insert_parameters_cols-Tuple{DataFrames.DataFrame, String}"><code>DataProcessforDQMC.insert_parameters_cols</code></a></li><li><a href="#DataProcessforDQMC.k_filter-Tuple{DataFrames.DataFrame, Tuple{Float64, Float64}}"><code>DataProcessforDQMC.k_filter</code></a></li><li><a href="#DataProcessforDQMC.mean_ns-Tuple{Any}"><code>DataProcessforDQMC.mean_ns</code></a></li><li><a href="#DataProcessforDQMC.merge_afm_sf"><code>DataProcessforDQMC.merge_afm_sf</code></a></li><li><a href="#DataProcessforDQMC.merge_bin_columns"><code>DataProcessforDQMC.merge_bin_columns</code></a></li><li><a href="#DataProcessforDQMC.merge_cdw_sf"><code>DataProcessforDQMC.merge_cdw_sf</code></a></li><li><a href="#DataProcessforDQMC.merge_staggered_components"><code>DataProcessforDQMC.merge_staggered_components</code></a></li><li><a href="#DataProcessforDQMC.merge_uniform_components"><code>DataProcessforDQMC.merge_uniform_components</code></a></li><li><a href="#DataProcessforDQMC.print_af_structure_factor_result-NTuple{8, Any}"><code>DataProcessforDQMC.print_af_structure_factor_result</code></a></li><li><a href="#DataProcessforDQMC.print_correlation_results-NTuple{8, Any}"><code>DataProcessforDQMC.print_correlation_results</code></a></li><li><a href="#DataProcessforDQMC.print_correlation_results_multi_orbital-NTuple{9, Any}"><code>DataProcessforDQMC.print_correlation_results_multi_orbital</code></a></li><li><a href="#DataProcessforDQMC.print_kspace_correlation_results-NTuple{6, Any}"><code>DataProcessforDQMC.print_kspace_correlation_results</code></a></li><li><a href="#DataProcessforDQMC.print_kspace_correlation_results_multi_orbital-NTuple{7, Any}"><code>DataProcessforDQMC.print_kspace_correlation_results_multi_orbital</code></a></li><li><a href="#DataProcessforDQMC.print_structure_factor_result"><code>DataProcessforDQMC.print_structure_factor_result</code></a></li><li><a href="#DataProcessforDQMC.read_format_data-Tuple{String, String}"><code>DataProcessforDQMC.read_format_data</code></a></li><li><a href="#DataProcessforDQMC.round_error-Tuple{AbstractFloat, Number}"><code>DataProcessforDQMC.round_error</code></a></li><li><a href="#DataProcessforDQMC.save_analysis_results"><code>DataProcessforDQMC.save_analysis_results</code></a></li><li><a href="#DataProcessforDQMC.scale_bin_columns"><code>DataProcessforDQMC.scale_bin_columns</code></a></li><li><a href="#DataProcessforDQMC.scan_parameter_directories"><code>DataProcessforDQMC.scan_parameter_directories</code></a></li><li><a href="#DataProcessforDQMC.statistics_columns-Tuple{DataFrames.DataFrame}"><code>DataProcessforDQMC.statistics_columns</code></a></li><li><a href="#DataProcessforDQMC.statistics_columns_withparas-Tuple{Any}"><code>DataProcessforDQMC.statistics_columns_withparas</code></a></li><li><a href="#DataProcessforDQMC.write_df-Tuple{DataFrames.DataFrame, String, String}"><code>DataProcessforDQMC.write_df</code></a></li></ul><h2 id="完整-API-文档"><a class="docs-heading-anchor" href="#完整-API-文档">完整 API 文档</a><a id="完整-API-文档-1"></a><a class="docs-heading-anchor-permalink" href="#完整-API-文档" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.AFMCorrelationRatio" href="#DataProcessforDQMC.AFMCorrelationRatio"><code>DataProcessforDQMC.AFMCorrelationRatio</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AFMCorrelationRatio(shift_point::Tuple{&lt;:Real,&lt;:Real}, Q_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                 filename::String=&quot;afm_sf_k.bin&quot;, source_file::String=&quot;spsm_k.bin&quot;, filedir::String=pwd();
                 force_rebuild::Bool=false, startbin::Int=2, endbin::Union{Int,Nothing}=nothing, dropmaxmin::Int=0,
                 orbital_columns::Vector{Tuple{Int,Int}}=[(3,4), (5,6), (7,8), (9,10)],
                 orbital_labels::Vector{String}=[&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;],
                 auto_digits::Bool=true, tolerance::Float64=1e-6, verbose::Bool=true)</code></pre><p>Calculate the correlation ratio R_{m^2} for antiferromagnetic structure factor, used to quantify disorder-order transitions.</p><p><strong>Formula</strong></p><p>R<em>{m^2} = 1 - S</em>AFM(Q+δq) / S_AFM(Q) where δq is a small shift in reciprocal space</p><p><strong>Parameters</strong></p><ul><li><code>shift_point</code>: Momentum space shift (δq<em>x, δq</em>y)</li><li><code>Q_point</code>: Antiferromagnetic vector Q (default: (0.0, 0.0))</li><li><code>filename</code>: Structure factor file name (default: &quot;afm<em>sf</em>k.bin&quot;)</li><li><code>source_file</code>: Source file to generate structure factor if not exists (default: &quot;spsm_k.bin&quot;)</li><li><code>filedir</code>: File directory (default: current directory)</li><li><code>force_rebuild</code>: Force rebuild structure factor file even if exists (default: false)</li><li><code>startbin</code>: Starting bin (default: 2)</li><li><code>endbin</code>: Ending bin (default: all bins)</li><li><code>dropmaxmin</code>: Number of max/min values to drop (default: 0)</li><li><code>orbital_columns</code>: Orbital column indices (default: [(3,4), (5,6), (7,8), (9,10)])</li><li><code>orbital_labels</code>: Orbital labels (default: [&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;])</li><li><code>auto_digits</code>: Whether to automatically determine significant digits (default: true)</li><li><code>tolerance</code>: Tolerance for matching k-points (default: 1e-6)</li><li><code>verbose</code>: Whether to output detailed information (default: true)</li></ul><p><strong>Returns</strong></p><p>A named tuple with the following fields:</p><ul><li><code>Q_point</code>: Antiferromagnetic vector Q</li><li><code>shift_point</code>: Momentum space shift (δq<em>x, δq</em>y)</li><li><code>Q_shifted</code>: Shifted k-point</li><li><code>S_AFM_Q</code>: Antiferromagnetic structure factor at Q</li><li><code>err_S_AFM_Q</code>: Error of the antiferromagnetic structure factor at Q</li><li><code>S_AFM_Q_shifted</code>: Antiferromagnetic structure factor at the shifted point</li><li><code>err_S_AFM_Q_shifted</code>: Error of the antiferromagnetic structure factor at the shifted point</li><li><code>correlation_ratio</code>: Calculated correlation ratio</li><li><code>err_correlation_ratio</code>: Error of the correlation ratio</li><li><code>formatted_correlation_ratio</code>: Formatted correlation ratio result</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Calculate correlation ratio with (0.25,0) shift
result = AFMCorrelationRatio((0.25, 0.0))
println(&quot;Correlation Ratio: $(result.formatted_correlation_ratio)&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlation-ratio.jl#L15-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.AFMStructureFactor" href="#DataProcessforDQMC.AFMStructureFactor"><code>DataProcessforDQMC.AFMStructureFactor</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AFMStructureFactor(k_point=(0.0, 0.0), filename=&quot;afm_sf_k.bin&quot;, filedir=pwd();
                 force_rebuild=false, source_file=&quot;spsm_k.bin&quot;, startbin=2, endbin=nothing, dropmaxmin=0,
                 auto_digits=true, tolerance=1e-6, verbose=true)</code></pre><p>Calculate antiferromagnetic structure factor S<em>AF(L) = [spsm</em>k(0,A,A) + spsm<em>k(0,B,B) - spsm</em>k(0,A,B) - spsm_k(0,B,A)].</p><p>The function can use either:</p><ul><li>A pre-processed file (default: &quot;afm<em>sf</em>k.bin&quot;) containing the structure factor directly</li><li>A source file (e.g., &quot;spsm<em>k.bin&quot; or &quot;ss</em>k.bin&quot;) to generate the structure factor file if it doesn&#39;t exist or <code>force_rebuild</code> is true</li></ul><p>Parameters:</p><ul><li><code>k_point</code>: Target momentum point, default (0.0, 0.0)</li><li><code>filename</code>: Target structure factor file name (default: &quot;afm<em>sf</em>k.bin&quot;)</li><li><code>filedir</code>: Directory containing the files (default: current directory)</li><li><code>force_rebuild</code>: Whether to force rebuild the structure factor file even if it exists (default: false)</li><li><code>source_file</code>: Source file to generate structure factor if needed (default: &quot;spsm_k.bin&quot;)</li><li><code>startbin</code>: Starting bin for statistics (default: 2)</li><li><code>endbin</code>: Ending bin for statistics (default: all bins)</li><li><code>dropmaxmin</code>: Number of max/min values to drop (default: 0)</li><li><code>auto_digits</code>: Whether to automatically determine significant digits (default: true)</li><li><code>tolerance</code>: Tolerance for k-point matching (default: 1e-6)</li><li><code>verbose</code>: Whether to output detailed information (default: true)</li></ul><p>Returns:</p><ul><li>A named tuple with the following fields:<ul><li><code>k_point</code>: The actual k-point used</li><li><code>mean_real</code>: Mean value of the real part</li><li><code>mean_imag</code>: Mean value of the imaginary part</li><li><code>err_real</code>: Error estimate for the real part</li><li><code>err_imag</code>: Error estimate for the imaginary part</li><li><code>formatted_real</code>: Formatted string for the real part</li><li><code>formatted_imag</code>: Formatted string for the imaginary part</li></ul></li></ul><p>Examples:</p><pre><code class="language-julia hljs"># Use existing afm_sf_k.bin file
result = AFMStructureFactor()

# Force rebuild from source file
result = AFMStructureFactor(force_rebuild=true)

# Specify custom filenames
result = AFMStructureFactor(filename=&quot;custom_afm_sf.bin&quot;, source_file=&quot;custom_afm_source.bin&quot;, force_rebuild=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/structure-factor.jl#L300-L346">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.CDWCorrelationRatio" href="#DataProcessforDQMC.CDWCorrelationRatio"><code>DataProcessforDQMC.CDWCorrelationRatio</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CDWCorrelationRatio(shift_point::Tuple{&lt;:Real,&lt;:Real}, Q_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                 filename::String=&quot;cdwpair_sf_k.bin&quot;, source_file::String=&quot;cdwpair_k.bin&quot;, filedir::String=pwd();
                 force_rebuild::Bool=false, startbin::Int=2, endbin::Union{Int,Nothing}=nothing, dropmaxmin::Int=0,
                 orbital_columns::Vector{Tuple{Int,Int}}=[(3,4), (5,6), (7,8), (9,10)],
                 orbital_labels::Vector{String}=[&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;],
                 auto_digits::Bool=true, tolerance::Float64=1e-6, verbose::Bool=true)</code></pre><p>Calculate the correlation ratio R_{m^2} for charge density wave structure factor, used to quantify disorder-order transitions.</p><p><strong>Formula</strong></p><p>R<em>{m^2} = 1 - S</em>CDW(Q+δq) / S_CDW(Q) where δq is a small shift in reciprocal space</p><p><strong>Parameters</strong></p><ul><li><code>shift_point</code>: Momentum space shift (δq<em>x, δq</em>y)</li><li><code>Q_point</code>: CDW ordering vector Q (default: (0.0, 0.0))</li><li><code>filename</code>: Structure factor file name (default: &quot;cdwpair<em>sf</em>k.bin&quot;)</li><li><code>source_file</code>: Source file to generate structure factor if not exists (default: &quot;cdwpair_k.bin&quot;)</li><li><code>filedir</code>: File directory (default: current directory)</li><li><code>force_rebuild</code>: Force rebuild structure factor file even if exists (default: false)</li><li><code>startbin</code>: Starting bin (default: 2)</li><li><code>endbin</code>: Ending bin (default: all bins)</li><li><code>dropmaxmin</code>: Number of max/min values to drop (default: 0)</li><li><code>orbital_columns</code>: Orbital column indices (default: [(3,4), (5,6), (7,8), (9,10)])</li><li><code>orbital_labels</code>: Orbital labels (default: [&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;])</li><li><code>auto_digits</code>: Whether to automatically determine significant digits (default: true)</li><li><code>tolerance</code>: Tolerance for matching k-points (default: 1e-6)</li><li><code>verbose</code>: Whether to output detailed information (default: true)</li></ul><p><strong>Returns</strong></p><p>A named tuple with the following fields:</p><ul><li><code>Q_point</code>: CDW ordering vector Q</li><li><code>shift_point</code>: Momentum space shift (δq<em>x, δq</em>y)</li><li><code>Q_shifted</code>: Shifted k-point</li><li><code>S_CDW_Q</code>: CDW structure factor at Q</li><li><code>err_S_CDW_Q</code>: Error of the CDW structure factor at Q</li><li><code>S_CDW_Q_shifted</code>: CDW structure factor at the shifted point</li><li><code>err_S_CDW_Q_shifted</code>: Error of the CDW structure factor at the shifted point</li><li><code>correlation_ratio</code>: Calculated correlation ratio</li><li><code>err_correlation_ratio</code>: Error of the correlation ratio</li><li><code>formatted_correlation_ratio</code>: Formatted correlation ratio result</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Calculate correlation ratio with (0.25,0) shift
result = CDWCorrelationRatio((0.25, 0.0))
println(&quot;Correlation Ratio: $(result.formatted_correlation_ratio)&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlation-ratio.jl#L143-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.CDWStructureFactor" href="#DataProcessforDQMC.CDWStructureFactor"><code>DataProcessforDQMC.CDWStructureFactor</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CDWStructureFactor(k_point=(0.0, 0.0), filename=&quot;cdwpair_sf_k.bin&quot;, filedir=pwd();
                 force_rebuild=false, source_file=&quot;cdwpair_k.bin&quot;, startbin=2, endbin=nothing, dropmaxmin=0,
                 auto_digits=true, tolerance=1e-6, verbose=true)</code></pre><p>Calculate charge density wave structure factor S<em>CDW(L) = [cdwpair</em>k(0,A,A) + cdwpair<em>k(0,B,B) + cdwpair</em>k(0,A,B) + cdwpair_k(0,B,A)].</p><p>The function can use either:</p><ul><li>A pre-processed file (default: &quot;cdwpair<em>sf</em>k.bin&quot;) containing the structure factor directly</li><li>A source file (e.g., &quot;cdwpair<em>k.bin&quot;) to generate the structure factor file if it doesn&#39;t exist or `force</em>rebuild` is true</li></ul><p>Parameters:</p><ul><li><code>k_point</code>: Target momentum point, default (0.0, 0.0)</li><li><code>filename</code>: Target structure factor file name (default: &quot;cdwpair<em>sf</em>k.bin&quot;)</li><li><code>filedir</code>: Directory containing the files (default: current directory)</li><li><code>force_rebuild</code>: Whether to force rebuild the structure factor file even if it exists (default: false)</li><li><code>source_file</code>: Source file to generate structure factor if needed (default: &quot;cdwpair_k.bin&quot;)</li><li><code>startbin</code>: Starting bin for statistics (default: 2)</li><li><code>endbin</code>: Ending bin for statistics (default: all bins)</li><li><code>dropmaxmin</code>: Number of max/min values to drop (default: 0)</li><li><code>auto_digits</code>: Whether to automatically determine significant digits (default: true)</li><li><code>tolerance</code>: Tolerance for k-point matching (default: 1e-6)</li><li><code>verbose</code>: Whether to output detailed information (default: true)</li></ul><p>Returns:</p><ul><li>A named tuple with the following fields:<ul><li><code>k_point</code>: The actual k-point used</li><li><code>mean_real</code>: Mean value of the real part</li><li><code>mean_imag</code>: Mean value of the imaginary part</li><li><code>err_real</code>: Error estimate for the real part</li><li><code>err_imag</code>: Error estimate for the imaginary part</li><li><code>formatted_real</code>: Formatted string for the real part</li><li><code>formatted_imag</code>: Formatted string for the imaginary part</li></ul></li></ul><p>Examples:</p><pre><code class="language-julia hljs"># Use existing cdwpair_sf_k.bin file
result = CDWStructureFactor()

# Force rebuild from source file
result = CDWStructureFactor(force_rebuild=true)

# Specify custom filenames
result = CDWStructureFactor(filename=&quot;custom_cdw_sf.bin&quot;, source_file=&quot;custom_cdw.bin&quot;, force_rebuild=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/structure-factor.jl#L395-L441">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.CorrelationAnalysis" href="#DataProcessforDQMC.CorrelationAnalysis"><code>DataProcessforDQMC.CorrelationAnalysis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CorrelationAnalysis(filename=&quot;spsm_r.bin&quot;, filedir=pwd();
                   startbin=2, endbin=nothing, dropmaxmin=0,
                   real_column=3, imag_column=4,
                   auto_digits=true,
                   verbose=true)</code></pre><p>Analyze correlation function data files like <code>spsm_r.bin</code> or <code>nn_r.bin</code>, where the first two columns represent imj coordinates (distance vector between points i and j), and calculate Monte Carlo averages.</p><p>Arguments:</p><ul><li><code>filename</code>: Name of the correlation file (default: &quot;spsm_r.bin&quot;)</li><li><code>filedir</code>: Directory containing the file (default: current directory)</li><li><code>startbin</code>: First bin to include in analysis (default: 2)</li><li><code>endbin</code>: Last bin to include in analysis (default: all bins)</li><li><code>dropmaxmin</code>: Number of maximum and minimum values to drop (default: 0)</li><li><code>real_column</code>: Column index containing the real part of correlation values (default: 3)</li><li><code>imag_column</code>: Column index containing the imaginary part of correlation values (default: 4)</li><li><code>auto_digits</code>: Whether to automatically determine significant digits based on error of error (default: true)</li><li><code>verbose</code>: Whether to print results to console (default: true)</li></ul><p>Returns:</p><ul><li>DataFrame containing the following columns:<ul><li><code>coord</code>: Tuple of (i,j) coordinates</li><li><code>imj_x</code>, <code>imj_y</code>: x and y components of the distance vector</li><li><code>mean_real</code>, <code>mean_imag</code>: Mean values of real and imaginary parts</li><li><code>err_real</code>, <code>err_imag</code>: Errors of real and imaginary parts</li><li><code>formatted_real</code>, <code>formatted_imag</code>: Formatted strings of values with errors</li><li><code>distance</code>: Euclidean distance from origin</li><li><code>i_coord</code>: coordinates of unit cell i relative to j = (1,1)</li></ul></li></ul><p>Example:</p><pre><code class="language-julia hljs"># Analyze spsm_r.bin in current directory
results = CorrelationAnalysis()

# Analyze nn_r.bin with custom columns
results = CorrelationAnalysis(&quot;nn_r.bin&quot;, real_column=3, imag_column=4)

# Access results
real_part = results[1, :mean_real]      # mean of real part
imag_part = results[1, :mean_imag]      # mean of imaginary part
real_err = results[1, :err_real]        # error of real part
imag_err = results[1, :err_imag]        # error of imaginary part

# Get coordinates and values
for row in eachrow(results)
    coord = row.coord
    real_val = row.mean_real
    imag_val = row.mean_imag
    real_e = row.err_real
    imag_e = row.err_imag
    # Format as complex number for display
    complex_val = &quot;($real_val ± $real_e) + ($imag_val ± $imag_e)im&quot;
    println(&quot;At $coord: $complex_val&quot;)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-rspace.jl#L144-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.EnergyAnalysis" href="#DataProcessforDQMC.EnergyAnalysis"><code>DataProcessforDQMC.EnergyAnalysis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EnergyAnalysis(filename=&quot;energy.bin&quot;, filedir=pwd();
               startbin=2, endbin=nothing, dropmaxmin=0,
               columns=[5,7,9,11], labels=[&quot;E_kin&quot;, &quot;E_pot&quot;, &quot;E_tot&quot;, &quot;E_tot^2&quot;],
               verbose=true)</code></pre><p>Analyze energy.bin file and calculate Monte Carlo averages and errors for specified columns.</p><p>Arguments:</p><ul><li><code>filename</code>: Name of the energy file (default: &quot;energy.bin&quot;)</li><li><code>filedir</code>: Directory containing the file (default: current directory)</li><li><code>startbin</code>: First bin to include in analysis (default: 2)</li><li><code>endbin</code>: Last bin to include in analysis (default: all bins)</li><li><code>dropmaxmin</code>: Number of maximum and minimum values to drop (default: 0)</li><li><code>columns</code>: Array of column indices to analyze (default: [5,7,9,11])</li><li><code>labels</code>: Array of labels for the columns (default: [&quot;E<em>kin&quot;, &quot;E</em>pot&quot;, &quot;E<em>tot&quot;, &quot;E</em>tot^2&quot;])</li><li><code>verbose</code>: Whether to print results to console (default: true)</li></ul><p>Returns:</p><ul><li>Dictionary with column labels as keys and [mean, error] arrays as values</li></ul><p>Example:</p><pre><code class="language-julia hljs"># Analyze energy.bin in current directory
results = EnergyAnalysis()

# Analyze specific columns with custom labels
results = EnergyAnalysis(columns=[5,7], labels=[&quot;Kinetic&quot;, &quot;Potential&quot;])

# Access results
kinetic_energy = results[&quot;Kinetic&quot;][1]  # mean value
kinetic_error = results[&quot;Kinetic&quot;][2]   # error</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/scalar-measurements.jl#L104-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.KSpaceCorrelationAnalysis" href="#DataProcessforDQMC.KSpaceCorrelationAnalysis"><code>DataProcessforDQMC.KSpaceCorrelationAnalysis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">KSpaceCorrelationAnalysis(filename=&quot;nn_k.bin&quot;, filedir=pwd();
                         startbin=2, endbin=nothing, dropmaxmin=0,
                         real_column=3, imag_column=4,
                         auto_digits=true,
                         verbose=true)</code></pre><p>Analyze k-space correlation function data files like <code>nn_k.bin</code> or <code>spsm_k.bin</code>, where the first two columns represent k-space coordinates, and calculate Monte Carlo averages.</p><p>Arguments:</p><ul><li><code>filename</code>: Name of the correlation file (default: &quot;nn_k.bin&quot;)</li><li><code>filedir</code>: Directory containing the file (default: current directory)</li><li><code>startbin</code>: First bin to include in analysis (default: 2)</li><li><code>endbin</code>: Last bin to include in analysis (default: all bins)</li><li><code>dropmaxmin</code>: Number of maximum and minimum values to drop (default: 0)</li><li><code>real_column</code>: Column index containing the real part of correlation values (default: 3)</li><li><code>imag_column</code>: Column index containing the imaginary part of correlation values (default: 4)</li><li><code>auto_digits</code>: Whether to automatically determine significant digits based on error of error (default: true)</li><li><code>verbose</code>: Whether to print results to console (default: true)</li></ul><p>Returns:</p><ul><li>DataFrame containing the following columns:<ul><li><code>coord</code>: Tuple of k-point coordinates</li><li><code>kx</code>, <code>ky</code>: x and y components of the k-point</li><li><code>mean_real</code>, <code>mean_imag</code>: Mean values of real and imaginary parts</li><li><code>err_real</code>, <code>err_imag</code>: Errors of real and imaginary parts</li><li><code>formatted_real</code>, <code>formatted_imag</code>: Formatted strings of values with errors</li><li><code>k_magnitude</code>: Magnitude of the k-point</li></ul></li></ul><p>Example:</p><pre><code class="language-julia hljs"># Analyze nn_k.bin in current directory
results = KSpaceCorrelationAnalysis()

# Analyze spsm_k.bin with custom columns
results = KSpaceCorrelationAnalysis(&quot;spsm_k.bin&quot;, real_column=3, imag_column=4)

# Access results
real_part = results[1, :mean_real]      # mean of real part
imag_part = results[1, :mean_imag]      # mean of imaginary part
real_err = results[1, :err_real]        # error of real part
imag_err = results[1, :err_imag]        # error of imaginary part

# Get coordinates and values
for row in eachrow(results)
    coord = row.coord
    real_val = row.mean_real
    imag_val = row.mean_imag
    real_e = row.err_real
    imag_e = row.err_imag
    # Format as complex number for display
    complex_val = &quot;($real_val ± $real_e) + ($imag_val ± $imag_e)im&quot;
    println(&quot;At $coord: $complex_val&quot;)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-kspace.jl#L109-L165">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.MultiOrbitalCorrelationAnalysis" href="#DataProcessforDQMC.MultiOrbitalCorrelationAnalysis"><code>DataProcessforDQMC.MultiOrbitalCorrelationAnalysis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MultiOrbitalCorrelationAnalysis(filename=&quot;nn_r.bin&quot;, filedir=pwd();
                              startbin=2, endbin=nothing, dropmaxmin=0,
                              orbital_columns=[(3,4), (5,6), (7,8), (9,10)],
                              orbital_labels=[&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;],
                              auto_digits=true,
                              verbose=true)</code></pre><p>Analyze multi-orbital correlation function data files, where each orbital pair has its own real and imaginary columns.</p><p>Arguments:</p><ul><li><code>filename</code>: Name of the correlation file (default: &quot;nn_r.bin&quot;)</li><li><code>filedir</code>: Directory containing the file (default: current directory)</li><li><code>startbin</code>: First bin to include in analysis (default: 2)</li><li><code>endbin</code>: Last bin to include in analysis (default: all bins)</li><li><code>dropmaxmin</code>: Number of maximum and minimum values to drop (default: 0)</li><li><code>orbital_columns</code>: Array of (real<em>column, imag</em>column) tuples for each orbital (default: [(3,4), (5,6), (7,8), (9,10)])</li><li><code>orbital_labels</code>: Array of labels for each orbital (default: [&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;])</li><li><code>auto_digits</code>: Whether to automatically determine significant digits based on error of error (default: true)</li><li><code>verbose</code>: Whether to print results to console (default: true)</li></ul><p>Returns:</p><ul><li>DataFrame containing statistics for each coordinate and orbital</li></ul><p>Example:</p><pre><code class="language-julia hljs"># Analyze nn_r.bin in current directory with default orbital columns
results = MultiOrbitalCorrelationAnalysis()

# Access results
corr_1_1_AA_real = results[1, :AA_mean_real]  # mean real value at first row for AA orbital
corr_1_1_AB_imag = results[1, :AB_mean_imag]  # mean imag value at first row for AB orbital</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-rspace.jl#L281-L315">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.MultiOrbitalKSpaceCorrelationAnalysis" href="#DataProcessforDQMC.MultiOrbitalKSpaceCorrelationAnalysis"><code>DataProcessforDQMC.MultiOrbitalKSpaceCorrelationAnalysis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MultiOrbitalKSpaceCorrelationAnalysis(filename=&quot;nn_k.bin&quot;, filedir=pwd();
                                    startbin=2, endbin=nothing, dropmaxmin=0,
                                    orbital_columns=[(3,4), (5,6), (7,8), (9,10)],
                                    orbital_labels=[&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;],
                                    auto_digits=true,
                                    verbose=true)</code></pre><p>Analyze multi-orbital k-space correlation function data files, where each orbital pair has its own real and imaginary columns.</p><p>Arguments:</p><ul><li><code>filename</code>: Name of the correlation file (default: &quot;nn_k.bin&quot;)</li><li><code>filedir</code>: Directory containing the file (default: current directory)</li><li><code>startbin</code>: First bin to include in analysis (default: 2)</li><li><code>endbin</code>: Last bin to include in analysis (default: all bins)</li><li><code>dropmaxmin</code>: Number of maximum and minimum values to drop (default: 0)</li><li><code>orbital_columns</code>: Array of (real<em>column, imag</em>column) tuples for each orbital (default: [(3,4), (5,6), (7,8), (9,10)])</li><li><code>orbital_labels</code>: Array of labels for each orbital (default: [&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;])</li><li><code>auto_digits</code>: Whether to automatically determine significant digits based on error of error (default: true)</li><li><code>verbose</code>: Whether to print results to console (default: true)</li></ul><p>Returns:</p><ul><li>DataFrame containing statistics for each coordinate and orbital</li></ul><p>Example:</p><pre><code class="language-julia hljs"># Analyze nn_k.bin in current directory with default orbital columns
results = MultiOrbitalKSpaceCorrelationAnalysis()

# Access results
corr_1_1_AA_real = results[1, :AA_mean_real]  # mean real value at first row for AA orbital
corr_1_1_AB_imag = results[1, :AB_mean_imag]  # mean imag value at first row for AB orbital</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-kspace.jl#L239-L273">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.MultiOrbitalStructureFactorAnalysis" href="#DataProcessforDQMC.MultiOrbitalStructureFactorAnalysis"><code>DataProcessforDQMC.MultiOrbitalStructureFactorAnalysis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MultiOrbitalStructureFactorAnalysis(k_point, orbital_pair, filename=&quot;spsm_k.bin&quot;, filedir=pwd();
                                   startbin=2, endbin=nothing, dropmaxmin=0,
                                   orbital_columns=[(3,4), (5,6), (7,8), (9,10)],
                                   orbital_labels=[&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;],
                                   auto_digits=true, tolerance=1e-6, verbose=true)</code></pre><p>从多轨道k空间关联函数数据中提取特定动量点和轨道对的结构因子。</p><p>参数:</p><ul><li><code>k_point</code>: 目标动量点，格式为 (kx, ky) 的元组</li><li><code>orbital_pair</code>: 轨道对标签 (如 &quot;AA&quot;, &quot;AB&quot; 等)</li><li><code>filename</code>: 关联函数文件名 (默认: &quot;spsm_k.bin&quot;)</li><li><code>filedir</code>: 文件目录 (默认: 当前目录)</li><li><code>startbin</code>: 起始bin (默认: 2)</li><li><code>endbin</code>: 结束bin (默认: 所有bin)</li><li><code>dropmaxmin</code>: 丢弃的最大最小值数量 (默认: 0)</li><li><code>orbital_columns</code>: 轨道列索引数组 (默认: [(3,4), (5,6), (7,8), (9,10)])</li><li><code>orbital_labels</code>: 轨道标签数组 (默认: [&quot;AA&quot;, &quot;AB&quot;, &quot;BA&quot;, &quot;BB&quot;])</li><li><code>auto_digits</code>: 是否自动确定有效数字 (默认: true)</li><li><code>tolerance</code>: 匹配k点时的容差 (默认: 1e-6)</li><li><code>verbose</code>: 是否输出详细信息 (默认: true)</li></ul><p>返回:</p><ul><li>包含以下字段的命名元组:<ul><li><code>k_point</code>: 实际使用的k点坐标</li><li><code>orbital</code>: 轨道对标签</li><li><code>mean_real</code>, <code>mean_imag</code>: 平均值（实部和虚部）</li><li><code>err_real</code>, <code>err_imag</code>: 误差（实部和虚部）</li><li><code>formatted_real</code>, <code>formatted_imag</code>: 格式化后的结果字符串</li></ul></li></ul><p>示例:</p><pre><code class="language-julia hljs"># 分析 (0,0) 点的AA轨道结构因子
result = MultiOrbitalStructureFactorAnalysis((0.0, 0.0), &quot;AA&quot;, &quot;spsm_k.bin&quot;)
println(&quot;AA orbital at Γ point: $(result.formatted_real)&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/structure-factor.jl#L154-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.StructureFactorAnalysis" href="#DataProcessforDQMC.StructureFactorAnalysis"><code>DataProcessforDQMC.StructureFactorAnalysis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StructureFactorAnalysis(k_point, filename=&quot;spsm_k.bin&quot;, filedir=pwd();
                       startbin=2, endbin=nothing, dropmaxmin=0,
                       real_column=3, imag_column=4,
                       auto_digits=true, tolerance=1e-6, verbose=true)</code></pre><p>从k空间关联函数数据中提取特定动量点的结构因子。</p><p>参数:</p><ul><li><code>k_point</code>: 目标动量点，格式为 (kx, ky) 的元组</li><li><code>filename</code>: 关联函数文件名 (默认: &quot;spsm_k.bin&quot;)</li><li><code>filedir</code>: 文件目录 (默认: 当前目录)</li><li><code>startbin</code>: 起始bin (默认: 2)</li><li><code>endbin</code>: 结束bin (默认: 所有bin)</li><li><code>dropmaxmin</code>: 丢弃的最大最小值数量 (默认: 0)</li><li><code>real_column</code>: 实部列索引 (默认: 3)</li><li><code>imag_column</code>: 虚部列索引 (默认: 4)</li><li><code>auto_digits</code>: 是否自动确定有效数字 (默认: true)</li><li><code>tolerance</code>: 匹配k点时的容差 (默认: 1e-6)</li><li><code>verbose</code>: 是否输出详细信息 (默认: true)</li></ul><p>返回:</p><ul><li>包含以下字段的命名元组:<ul><li><code>k_point</code>: 实际使用的k点坐标</li><li><code>mean_real</code>, <code>mean_imag</code>: 平均值（实部和虚部）</li><li><code>err_real</code>, <code>err_imag</code>: 误差（实部和虚部）</li><li><code>formatted_real</code>, <code>formatted_imag</code>: 格式化后的结果字符串</li></ul></li></ul><p>示例:</p><pre><code class="language-julia hljs"># 分析 (π,π) 点的结构因子
result = StructureFactorAnalysis((π, π), &quot;spsm_k.bin&quot;)
println(&quot;Real part: $(result.mean_real) ± $(result.err_real)&quot;)
println(&quot;Imag part: $(result.mean_imag) ± $(result.err_imag)&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/structure-factor.jl#L79-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.afm_k_files_generation" href="#DataProcessforDQMC.afm_k_files_generation"><code>DataProcessforDQMC.afm_k_files_generation</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">afm_k_files_generation(dir::AbstractString; afm_source::String=&quot;ss_k.bin&quot;, verbose::Bool=true)</code></pre><p>重新生成目录中所有与反铁磁相关的衍生数据文件。</p><p><strong>参数</strong></p><ul><li><code>dir::AbstractString</code>: 数据目录，默认为当前工作目录</li><li><code>afm_source::String</code>: 用于生成反铁磁结构因子的源文件名，默认为&quot;ss_k.bin&quot;</li><li><code>verbose::Bool</code>: 是否输出详细信息，默认为true</li></ul><p><strong>返回值</strong></p><ul><li><code>Dict{String, String}</code>: 包含生成的文件路径的字典，键为文件名，值为完整路径</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 使用默认设置重新生成AFM相关文件
files = afm_k_files_generation()

# 指定目录和数据源文件
files = afm_k_files_generation(&quot;/path/to/data&quot;, afm_source=&quot;custom_source.bin&quot;, verbose=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation-afm.jl#L27-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.analyze_AFM_correlation_ratio_multi_parameter" href="#DataProcessforDQMC.analyze_AFM_correlation_ratio_multi_parameter"><code>DataProcessforDQMC.analyze_AFM_correlation_ratio_multi_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_AFM_correlation_ratio_multi_parameter(base_dir::AbstractString=pwd();
                                           shift_point::Tuple{&lt;:Real,&lt;:Real}=(0.25, 0.0),
                                           Q_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                                           filename::String=&quot;afm_sf_k.bin&quot;,
                                           source_file::String=&quot;spsm_k.bin&quot;,
                                           force_rebuild::Bool=false,
                                           startbin::Int=2,
                                           endbin::Union{Int,Nothing}=nothing,
                                           dropmaxmin::Int=0,
                                           auto_digits::Bool=true,
                                           tolerance::Float64=1e-6,
                                           verbose::Bool=false,
                                           filter_options::Union{Dict, NamedTuple}=Dict()) -&gt; DataFrame</code></pre><p>Analyze AFM correlation ratio across multiple parameter directories.</p><p><strong>Parameters</strong></p><ul><li><code>base_dir::AbstractString</code>: Base directory containing parameter directories (default: current directory)</li><li><code>shift_point::Tuple{&lt;:Real,&lt;:Real}</code>: Momentum space shift (δq<em>x, δq</em>y) (default: (0.25, 0.0))</li><li><code>Q_point::Tuple{&lt;:Real,&lt;:Real}</code>: AFM ordering vector Q (default: (0.0, 0.0))</li><li><code>filename::String</code>: Structure factor file name (default: &quot;afm<em>sf</em>k.bin&quot;)</li><li><code>source_file::String</code>: Source file to generate structure factor if not exists (default: &quot;spsm_k.bin&quot;)</li><li><code>force_rebuild::Bool</code>: Force rebuild structure factor file even if exists (default: false)</li><li><code>startbin::Int</code>: Starting bin for analysis (default: 2)</li><li><code>endbin::Union{Int,Nothing}</code>: Ending bin for analysis (default: all bins)</li><li><code>dropmaxmin::Int</code>: Number of max/min values to drop (default: 0)</li><li><code>auto_digits::Bool</code>: Whether to automatically determine significant digits (default: true)</li><li><code>tolerance::Float64</code>: Tolerance for matching k-points (default: 1e-6)</li><li><code>verbose::Bool</code>: Whether to output detailed information (default: false)</li><li><code>filter_options::Union{Dict, NamedTuple}</code>: Options for filtering parameter directories (default: empty Dict)</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: DataFrame containing parameters and AFM correlation ratio results</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/correlation-ratio.jl#L157-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.analyze_AFM_structure_factor_multi_parameter" href="#DataProcessforDQMC.analyze_AFM_structure_factor_multi_parameter"><code>DataProcessforDQMC.analyze_AFM_structure_factor_multi_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_AFM_structure_factor_multi_parameter(base_dir::AbstractString=pwd(); 
                                           k_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                                           filename::String=&quot;afm_sf_k.bin&quot;,
                                           force_rebuild::Bool=false,
                                           source_file::String=&quot;spsm_k.bin&quot;,
                                           startbin::Int=2, 
                                           endbin::Union{Int,Nothing}=nothing, 
                                           dropmaxmin::Int=0,
                                           auto_digits::Bool=true, 
                                           tolerance::Float64=1e-6, 
                                           verbose::Bool=false,
                                           filter_options::Union{Dict, NamedTuple}=Dict()) -&gt; DataFrame</code></pre><p>对多个参数目录执行反铁磁结构因子分析，并将结果整合到一个DataFrame中。</p><p><strong>参数</strong></p><ul><li><code>base_dir::AbstractString=pwd()</code>: 基础目录路径，默认为当前工作目录</li><li><code>k_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0)</code>: 要分析的k点</li><li><code>filename::String=&quot;afm_sf_k.bin&quot;</code>: 要分析的结构因子文件名</li><li><code>force_rebuild::Bool=false</code>: 是否强制重新构建结构因子文件</li><li><code>source_file::String=&quot;spsm_k.bin&quot;</code>: 当 filename 不存在时，用于生成结构因子的源文件名</li><li><code>startbin::Int=2</code>: 起始bin编号</li><li><code>endbin::Union{Int,Nothing}=nothing</code>: 结束bin编号</li><li><code>dropmaxmin::Int=0</code>: 丢弃的最大/最小值数量</li><li><code>auto_digits::Bool=true</code>: 是否自动确定有效数字</li><li><code>tolerance::Float64=1e-6</code>: k点匹配容差</li><li><code>verbose::Bool=false</code>: 是否显示详细信息</li><li><code>filter_options::Union{Dict, NamedTuple}=Dict()</code>: 目录筛选选项，可包含:prefix、:b、:U等参数</li><li><code>pattern::Regex=r&quot;&quot;</code>: 用于匹配目录名的正则表达式</li></ul><p><strong>返回值</strong></p><ul><li><code>DataFrame</code>: 包含所有参数和分析结果的DataFrame</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/structure-factor.jl#L183-L216">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.analyze_CDW_correlation_ratio_multi_parameter" href="#DataProcessforDQMC.analyze_CDW_correlation_ratio_multi_parameter"><code>DataProcessforDQMC.analyze_CDW_correlation_ratio_multi_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_CDW_correlation_ratio_multi_parameter(base_dir::AbstractString=pwd();
                                           shift_point::Tuple{&lt;:Real,&lt;:Real}=(0.25, 0.0),
                                           Q_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                                           filename::String=&quot;cdwpair_sf_k.bin&quot;,
                                           source_file::String=&quot;cdwpair_k.bin&quot;,
                                           force_rebuild::Bool=false,
                                           startbin::Int=2,
                                           endbin::Union{Int,Nothing}=nothing,
                                           dropmaxmin::Int=0,
                                           auto_digits::Bool=true,
                                           tolerance::Float64=1e-6,
                                           verbose::Bool=false,
                                           filter_options::Union{Dict, NamedTuple}=Dict(),
                                           pattern::Regex=r&quot;^proj_fft_honeycomb&quot;) -&gt; DataFrame</code></pre><p>Analyze CDW correlation ratio across multiple parameter directories.</p><p><strong>Parameters</strong></p><ul><li><code>base_dir::AbstractString</code>: Base directory containing parameter directories (default: current directory)</li><li><code>shift_point::Tuple{&lt;:Real,&lt;:Real}</code>: Momentum space shift (δq<em>x, δq</em>y) (default: (0.25, 0.0))</li><li><code>Q_point::Tuple{&lt;:Real,&lt;:Real}</code>: CDW ordering vector Q (default: (0.0, 0.0))</li><li><code>filename::String</code>: Structure factor file name (default: &quot;cdwpair<em>sf</em>k.bin&quot;)</li><li><code>source_file::String</code>: Source file to generate structure factor if not exists (default: &quot;cdwpair_k.bin&quot;)</li><li><code>force_rebuild::Bool</code>: Force rebuild structure factor file even if exists (default: false)</li><li><code>startbin::Int</code>: Starting bin for analysis (default: 2)</li><li><code>endbin::Union{Int,Nothing}</code>: Ending bin for analysis (default: all bins)</li><li><code>dropmaxmin::Int</code>: Number of max/min values to drop (default: 0)</li><li><code>auto_digits::Bool</code>: Whether to automatically determine significant digits (default: true)</li><li><code>tolerance::Float64</code>: Tolerance for matching k-points (default: 1e-6)</li><li><code>verbose::Bool</code>: Whether to output detailed information (default: false)</li><li><code>filter_options::Union{Dict, NamedTuple}</code>: Options for filtering parameter directories (default: empty Dict)</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: DataFrame containing parameters and CDW correlation ratio results</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/correlation-ratio.jl#L225-L260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.analyze_CDW_structure_factor_multi_parameter" href="#DataProcessforDQMC.analyze_CDW_structure_factor_multi_parameter"><code>DataProcessforDQMC.analyze_CDW_structure_factor_multi_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_CDW_structure_factor_multi_parameter(base_dir::AbstractString=pwd(); 
                                           k_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                                           filename::String=&quot;cdwpair_sf_k.bin&quot;,
                                           force_rebuild::Bool=false,
                                           source_file::String=&quot;cdwpair_k.bin&quot;,
                                           startbin::Int=2, 
                                           endbin::Union{Int,Nothing}=nothing, 
                                           dropmaxmin::Int=0,
                                           auto_digits::Bool=true, 
                                           tolerance::Float64=1e-6, 
                                           verbose::Bool=false,
                                           filter_options::Union{Dict, NamedTuple}=Dict()) -&gt; DataFrame</code></pre><p>对多个参数目录执行电荷密度波结构因子分析，并将结果整合到一个DataFrame中。</p><p><strong>参数</strong></p><ul><li><code>base_dir::AbstractString=pwd()</code>: 基础目录路径，默认为当前工作目录</li><li><code>k_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0)</code>: 要分析的k点</li><li><code>filename::String=&quot;cdwpair_sf_k.bin&quot;</code>: 要分析的结构因子文件名</li><li><code>force_rebuild::Bool=false</code>: 是否强制重新构建结构因子文件</li><li><code>source_file::String=&quot;cdwpair_k.bin&quot;</code>: 当 filename 不存在时，用于生成结构因子的源文件名</li><li><code>startbin::Int=2</code>: 起始bin编号</li><li><code>endbin::Union{Int,Nothing}=nothing</code>: 结束bin编号</li><li><code>dropmaxmin::Int=0</code>: 丢弃的最大/最小值数量</li><li><code>auto_digits::Bool=true</code>: 是否自动确定有效数字</li><li><code>tolerance::Float64=1e-6</code>: k点匹配容差</li><li><code>verbose::Bool=false</code>: 是否显示详细信息</li><li><code>filter_options::Union{Dict, NamedTuple}=Dict()</code>: 目录筛选选项，可包含:prefix、:b、:U等参数</li></ul><p><strong>返回值</strong></p><ul><li><code>DataFrame</code>: 包含所有参数和分析结果的DataFrame</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/structure-factor.jl#L250-L282">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.analyze_correlation_ratio_multi_parameter" href="#DataProcessforDQMC.analyze_correlation_ratio_multi_parameter"><code>DataProcessforDQMC.analyze_correlation_ratio_multi_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_correlation_ratio_multi_parameter(correlation_ratio_function::Function,
                                       base_dir::AbstractString=pwd(); 
                                       shift_point::Tuple{&lt;:Real,&lt;:Real}=(0.25, 0.0),
                                       Q_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                                       filename::String=&quot;afm_sf_k.bin&quot;,
                                       source_file::String=&quot;spsm_k.bin&quot;,
                                       result_columns::Vector{Symbol}=[:correlation_ratio, :err_correlation_ratio],
                                       result_prefix::String=&quot;R&quot;,
                                       force_rebuild::Bool=false,
                                       startbin::Int=2,
                                       endbin::Union{Int,Nothing}=nothing,
                                       dropmaxmin::Int=0,
                                       auto_digits::Bool=true,
                                       tolerance::Float64=1e-6,
                                       verbose::Bool=false,
                                       filter_options::Union{Dict, NamedTuple}=Dict()) -&gt; DataFrame</code></pre><p>Generic multi-parameter correlation ratio analysis function, suitable for analyzing different types of correlation ratios.</p><p><strong>Parameters</strong></p><ul><li><code>correlation_ratio_function::Function</code>: Function for analyzing correlation ratio, such as AFMCorrelationRatio or CDWCorrelationRatio</li><li><code>base_dir::AbstractString</code>: Base directory containing parameter directories (default: current directory)</li><li><code>shift_point::Tuple{&lt;:Real,&lt;:Real}</code>: Momentum space shift (δq<em>x, δq</em>y) (default: (0.25, 0.0))</li><li><code>Q_point::Tuple{&lt;:Real,&lt;:Real}</code>: Ordering vector Q (default: (0.0, 0.0))</li><li><code>filename::String</code>: Structure factor file name (default: &quot;afm<em>sf</em>k.bin&quot;)</li><li><code>source_file::String</code>: Source file to generate structure factor if not exists (default: &quot;spsm_k.bin&quot;)</li><li><code>result_columns::Vector{Symbol}</code>: Columns to include in results (default: [:correlation<em>ratio, :err</em>correlation_ratio])</li><li><code>result_prefix::String</code>: Prefix for result column names (default: &quot;R&quot;)</li><li><code>force_rebuild::Bool</code>: Force rebuild structure factor file even if exists (default: false)</li><li><code>startbin::Int</code>: Starting bin for analysis (default: 2)</li><li><code>endbin::Union{Int,Nothing}</code>: Ending bin for analysis (default: all bins)</li><li><code>dropmaxmin::Int</code>: Number of max/min values to drop (default: 0)</li><li><code>auto_digits::Bool</code>: Whether to automatically determine significant digits (default: true)</li><li><code>tolerance::Float64</code>: Tolerance for matching k-points (default: 1e-6)</li><li><code>verbose::Bool</code>: Whether to output detailed information (default: false)</li><li><code>filter_options::Union{Dict, NamedTuple}</code>: Options for filtering parameter directories (default: empty Dict)</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: DataFrame containing parameters and correlation ratio results</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/correlation-ratio.jl#L11-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.analyze_structure_factor_multi_parameter" href="#DataProcessforDQMC.analyze_structure_factor_multi_parameter"><code>DataProcessforDQMC.analyze_structure_factor_multi_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_structure_factor_multi_parameter(analyzer_function::Function,
                                       base_dir::AbstractString=pwd(); 
                                       k_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0),
                                       filename::String=&quot;afm_sf_k.bin&quot;,
                                       force_rebuild::Bool=false,
                                       source_file::String=&quot;spsm_k.bin&quot;,
                                       result_columns::Vector{Symbol}=[:S_real, :S_real_err, :S_imag, :S_imag_err],
                                       result_prefix::String=&quot;S&quot;,
                                       startbin::Int=2, 
                                       endbin::Union{Int,Nothing}=nothing, 
                                       dropmaxmin::Int=0,
                                       auto_digits::Bool=true, 
                                       tolerance::Float64=1e-6, 
                                       verbose::Bool=false,
                                       filter_options::Union{Dict, NamedTuple}=Dict()) -&gt; DataFrame</code></pre><p>通用的多参数结构因子分析函数，可用于分析不同类型的结构因子。</p><p><strong>参数</strong></p><ul><li><code>analyzer_function::Function</code>: 用于分析结构因子的函数，如 AFMStructureFactor 或 CDWStructureFactor</li><li><code>base_dir::AbstractString=pwd()</code>: 基础目录路径，默认为当前工作目录</li><li><code>k_point::Tuple{&lt;:Real,&lt;:Real}=(0.0, 0.0)</code>: 要分析的k点</li><li><code>filename::String=&quot;afm_sf_k.bin&quot;</code>: 要分析的结构因子文件名</li><li><code>force_rebuild::Bool=false</code>: 是否强制重新构建结构因子文件</li><li><code>source_file::String=&quot;spsm_k.bin&quot;</code>: 当 filename 不存在时，用于生成结构因子的源文件名</li><li><code>result_columns::Vector{Symbol}</code>: 结果列的名称，默认为 [:S<em>real, :S</em>real<em>err, :S</em>imag, :S<em>imag</em>err]</li><li><code>result_prefix::String</code>: 结果列名称的前缀，如 &quot;S<em>AF&quot; 或 &quot;S</em>CDW&quot;</li><li><code>startbin::Int=2</code>: 起始bin编号</li><li><code>endbin::Union{Int,Nothing}=nothing</code>: 结束bin编号</li><li><code>dropmaxmin::Int=0</code>: 丢弃的最大/最小值数量</li><li><code>auto_digits::Bool=true</code>: 是否自动确定有效数字</li><li><code>tolerance::Float64=1e-6</code>: k点匹配容差</li><li><code>verbose::Bool=false</code>: 是否显示详细信息</li><li><code>filter_options::Union{Dict, NamedTuple}=Dict()</code>: 目录筛选选项，可包含:prefix、:b、:U等参数</li></ul><p><strong>返回值</strong></p><ul><li><code>DataFrame</code>: 包含所有参数和分析结果的DataFrame</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/structure-factor.jl#L15-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.batch_migrate_directories" href="#DataProcessforDQMC.batch_migrate_directories"><code>DataProcessforDQMC.batch_migrate_directories</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">batch_migrate_directories(base_dir::AbstractString=pwd(); 
                         pattern::Regex=r&quot;^proj_fft_honeycomb&quot;,
                         dry_run::Bool=true,
                         action::String=&quot;mv&quot;) -&gt; Vector{Tuple{String,String,Bool}}</code></pre><p>批量迁移目录下的legacy格式文件夹名到新格式。</p><p><strong>参数</strong></p><ul><li><code>base_dir::AbstractString=pwd()</code>: 基础目录路径，默认为当前工作目录</li><li><code>pattern::Regex=r&quot;^proj_fft_honeycomb&quot;</code>: 用于匹配需要迁移的目录名的正则表达式</li><li><code>dry_run::Bool=true</code>: 是否为试运行模式（只显示将要进行的操作，不实际执行）</li><li><code>action::String=&quot;mv&quot;</code>: 执行的操作类型<ul><li><code>&quot;mv&quot;</code>: 重命名目录（默认）</li><li><code>&quot;cp&quot;</code>: 复制目录到新名称，保留原目录</li><li><code>&quot;rm&quot;</code>: 删除原目录（需要先用&quot;cp&quot;创建新目录）</li></ul></li></ul><p><strong>返回值</strong></p><ul><li><code>Vector{Tuple{String,String,Bool}}</code>: 迁移结果列表，每个元组包含 (原名, 新名, 是否成功)</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 试运行，查看将要进行的迁移
results = batch_migrate_directories(dry_run=true)

# 复制到新格式，保留原目录
results = batch_migrate_directories(dry_run=false, action=&quot;cp&quot;)

# 重命名到新格式
results = batch_migrate_directories(dry_run=false, action=&quot;mv&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/common-functions.jl#L178-L209">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.bin_filter-Tuple{DataFrames.DataFrame}" href="#DataProcessforDQMC.bin_filter-Tuple{DataFrames.DataFrame}"><code>DataProcessforDQMC.bin_filter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bin_filter(df::DataFrame)</code></pre><p>Remove the first <code>ntherm</code> bins from <code>df</code>. <code>df</code> should have a column named <code>bin</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L11-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.calculate_i_coord-NTuple{4, Any}" href="#DataProcessforDQMC.calculate_i_coord-NTuple{4, Any}"><code>DataProcessforDQMC.calculate_i_coord</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Calculate i coordinate from imj when j is fixed at (1,1)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-rspace.jl#L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.calculate_statistics-Tuple{Any, Any}" href="#DataProcessforDQMC.calculate_statistics-Tuple{Any, Any}"><code>DataProcessforDQMC.calculate_statistics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calculate_statistics(df, auto_digits; input_coord_columns=[:imj_x, :imj_y], output_coord_names=[:imj_x, :imj_y], orbital_labels=nothing)</code></pre><p>通用函数，计算DataFrame中每个坐标的统计信息。 该函数可用于实空间和k空间数据，支持单轨道和多轨道数据。</p><p>参数:</p><ul><li><code>df</code>: 包含bin信息的DataFrame</li><li><code>auto_digits</code>: 是否使用自动精度进行误差计算</li><li><code>input_coord_columns</code>: 输入DataFrame中提取坐标值的列 (例如, [:imj<em>x, :imj</em>y] 或 [:kx, :ky])</li><li><code>output_coord_names</code>: 输出DataFrame中使用的坐标列名称</li><li><code>orbital_labels</code>: 轨道标签数组。如果为nothing，则处理单轨道数据（使用real<em>val和imag</em>val列）</li></ul><p>返回:</p><ul><li>包含每个坐标统计信息的DataFrame</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-common.jl#L84-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.cdwpair_k_files_generation" href="#DataProcessforDQMC.cdwpair_k_files_generation"><code>DataProcessforDQMC.cdwpair_k_files_generation</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cdwpair_k_files_generation(dir::AbstractString=pwd(); cdwpair_source::String=&quot;cdwpair_k.bin&quot;, verbose::Bool=true)</code></pre><p>生成目录中与电荷密度波和配对相关的衍生数据文件。</p><p><strong>参数</strong></p><ul><li><code>dir::AbstractString</code>: 数据目录，默认为当前工作目录</li><li><code>cdwpair_source::String</code>: 用于生成CDW配对结构因子的源文件名，默认为&quot;cdwpair_k.bin&quot;</li><li><code>verbose::Bool</code>: 是否输出详细信息，默认为true</li></ul><p><strong>返回值</strong></p><ul><li><code>Dict{String, String}</code>: 包含生成的文件路径的字典，键为文件名，值为完整路径</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 使用默认设置生成CDW和配对相关文件
files = cdwpair_k_files_generation()

# 指定目录和源文件
files = cdwpair_k_files_generation(&quot;/path/to/data&quot;, cdwpair_source=&quot;custom_cdwpair_k.bin&quot;, verbose=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation-cdwpair.jl#L29-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.combine_bin_files" href="#DataProcessforDQMC.combine_bin_files"><code>DataProcessforDQMC.combine_bin_files</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">combine_bin_files(output_filename::String,
                  input_files::Vector{&lt;:Tuple{&lt;:AbstractString, &lt;:Real}},
                  output_dir::String=pwd(),
                  input_dir::String=pwd();
                  preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2,
                  operation::Function=+,
                  verbose::Bool=false)</code></pre><p>将多个具有类似结构的二进制数据文件按权重组合成一个新文件。</p><p><strong>参数</strong></p><ul><li><code>output_filename::String</code>: 输出文件名</li><li><code>input_files::Vector{Tuple{String, Real}}</code>: 输入文件名和权重的元组数组，如 [(&quot;spsm<em>k.bin&quot;, 0.5), (&quot;szsz</em>k.bin&quot;, 1.0)]</li><li><code>output_dir::String=pwd()</code>: 输出文件目录</li><li><code>input_dir::String=pwd()</code>: 输入文件目录</li><li><code>preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2</code>: 保持不变的列索引（默认前两列，通常是坐标）</li><li><code>operation::Function=+</code>: 组合操作函数（默认为加法）</li><li><code>verbose::Bool=false</code>: 是否输出详细信息</li></ul><p><strong>返回值</strong></p><ul><li><code>String</code>: 生成的文件完整路径</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 合并 spsm_k.bin 和 szsz_k.bin 文件，权重分别为 0.5 和 1.0
combined_file = combine_bin_files(
    &quot;ss_k.bin&quot;,
    [(&quot;spsm_k.bin&quot;, 1.0), (&quot;szsz_k.bin&quot;, 1.0)]
)

# 合并实空间关联函数文件，保持前3列不变
combined_file = combine_bin_files(
    &quot;ss_r.bin&quot;, 
    [(&quot;spsm_r.bin&quot;, 1.0), (&quot;szsz_r.bin&quot;, 1.0)],
    preserve_columns=1:3
)

# 使用乘法而不是加法合并文件
combined_file = combine_bin_files(
    &quot;product.bin&quot;,
    [(&quot;file1.bin&quot;, 1.0), (&quot;file2.bin&quot;, 1.0)],
    operation=*
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-operations-basic.jl#L22-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.combine_cdwpair_components" href="#DataProcessforDQMC.combine_cdwpair_components"><code>DataProcessforDQMC.combine_cdwpair_components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">combine_cdwpair_components(
    output_filename::String=&quot;cdwpair_k.bin&quot;,
    cdw_filename::String=&quot;cdw_k.bin&quot;,
    pair_filename::String=&quot;pair_onsite_k.bin&quot;,
    output_dir::String=pwd(),
    input_dir::String=pwd(),
    cdw_weight::Real=1.0,
    pair_weight::Real=2.0;
    preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2,
    verbose::Bool=true
)</code></pre><p>将CDW关联和配对关联合并为一个整体结构因子（假设了eta-SU（2）对称性）。 如果CDW关联文件不存在，会自动从密度-密度关联文件创建。</p><p><strong>参数</strong></p><ul><li><code>output_filename::String=&quot;cdwpair_k.bin&quot;</code>: 输出文件名</li><li><code>cdw_filename::String=&quot;cdw_k.bin&quot;</code>: CDW关联文件名</li><li><code>pair_filename::String=&quot;pair_onsite_k.bin&quot;</code>: 配对关联文件名</li><li><code>output_dir::String=pwd()</code>: 输出文件目录</li><li><code>input_dir::String=pwd()</code>: 输入文件目录</li><li><code>cdw_weight::Real=1.0</code>: CDW关联的权重（默认为1.0）</li><li><code>pair_weight::Real=2.0</code>: 配对关联的权重（默认为2.0）</li><li><code>preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2</code>: 保持不变的列索引（默认前两列，通常是k点坐标）</li><li><code>verbose::Bool=true</code>: 是否输出详细信息</li></ul><p><strong>返回值</strong></p><ul><li><code>String</code>: 生成的文件完整路径</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 合并CDW和配对关联
combined_file = combine_cdwpair_components(&quot;cdwpair_k.bin&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation-cdwpair.jl#L196-L231">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.combine_ss_components" href="#DataProcessforDQMC.combine_ss_components"><code>DataProcessforDQMC.combine_ss_components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">combine_ss_components(
    output_filename::String=&quot;ss_k.bin&quot;,
    spsm_filename::String=&quot;spsm_k.bin&quot;,
    szsz_filename::String=&quot;szsz_k.bin&quot;,
    output_dir::String=pwd(),
    input_dir::String=pwd(),
    xy_weight::Real=1.0,
    zz_weight::Real=1.0;
    preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2,
    verbose::Bool=true
)</code></pre><p>合并 XY 和 Z 分量的自旋相关函数数据文件。</p><p><strong>参数</strong></p><ul><li><code>output_filename::String=&quot;ss_k.bin&quot;</code>: 输出文件名</li><li><code>spsm_filename::String=&quot;spsm_k.bin&quot;</code>: XY分量文件名</li><li><code>szsz_filename::String=&quot;szsz_k.bin&quot;</code>: Z分量文件名</li><li><code>output_dir::String=pwd()</code>: 输出文件目录</li><li><code>input_dir::String=pwd()</code>: 输入文件目录</li><li><code>xy_weight::Real=1.0</code>: XY分量的权重</li><li><code>zz_weight::Real=1.0</code>: Z分量的权重</li><li><code>preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2</code>: 保持不变的列索引</li><li><code>verbose::Bool=true</code>: 是否输出详细信息</li></ul><p><strong>返回值</strong></p><ul><li><code>String</code>: 生成的文件完整路径或者空字符串</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 合并 k 空间的 XY 和 Z 分量
combined_file = combine_ss_components(
    &quot;ss_k.bin&quot;,
    &quot;spsm_k.bin&quot;,
    &quot;szsz_k.bin&quot;
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation-afm.jl#L86-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.compute_stats-Tuple{Any, Any}" href="#DataProcessforDQMC.compute_stats-Tuple{Any, Any}"><code>DataProcessforDQMC.compute_stats</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_stats(real_values, imag_values; auto_digits=true)</code></pre><p>计算复数数据的统计量（平均值、误差和格式化字符串）。</p><p>参数:</p><ul><li><code>real_values</code>: 实部值数组</li><li><code>imag_values</code>: 虚部值数组</li><li><code>auto_digits</code>: 是否自动确定有效数字 (默认: true)</li></ul><p>返回:</p><ul><li>包含以下字段的命名元组:<ul><li><code>mean_real</code>, <code>mean_imag</code>: 平均值（实部和虚部）</li><li><code>err_real</code>, <code>err_imag</code>: 误差（实部和虚部）</li><li><code>formatted_real</code>, <code>formatted_imag</code>: 格式化后的结果字符串</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L289-L304">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.create_cdw_from_nn" href="#DataProcessforDQMC.create_cdw_from_nn"><code>DataProcessforDQMC.create_cdw_from_nn</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_cdw_from_nn(
    output_filename::String=&quot;cdw_k.bin&quot;,
    input_filename::String=&quot;nn_k.bin&quot;,
    output_dir::String=pwd(),
    input_dir::String=pwd();
    preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2,
    verbose::Bool=true
)</code></pre><p>将密度密度关联数据(nn<em>k.bin)转换为CDW关联数据。 应用η</em>α η<em>β因子到对应的轨道，其中η</em>α是+1（α=A轨道）或-1（α=B轨道）。</p><p><strong>参数</strong></p><ul><li><code>output_filename::String=&quot;cdw_k.bin&quot;</code>: 输出文件名</li><li><code>input_filename::String=&quot;nn_k.bin&quot;</code>: 输入密度-密度关联文件名</li><li><code>output_dir::String=pwd()</code>: 输出文件目录</li><li><code>input_dir::String=pwd()</code>: 输入文件目录</li><li><code>preserve_columns::Union{Vector{Int}, UnitRange{Int}}=1:2</code>: 保持不变的列索引（默认前两列，通常是k点坐标）</li><li><code>verbose::Bool=true</code>: 是否输出详细信息</li></ul><p><strong>返回值</strong></p><ul><li><code>String</code>: 生成的文件完整路径</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 创建CDW关联文件
cdw_file = create_cdw_from_nn(&quot;cdw_k.bin&quot;, &quot;nn_k.bin&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation-cdwpair.jl#L98-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.error-Tuple{Any}" href="#DataProcessforDQMC.error-Tuple{Any}"><code>DataProcessforDQMC.error</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">error(data; sigma=1, bessel=true, auto_digits=false)</code></pre><p>Calculate the standard error of the data.</p><p>Arguments:</p><ul><li><code>data</code>: The data array</li><li><code>sigma</code>: Number of standard deviations (default: 1)</li><li><code>bessel</code>: Whether to use Bessel&#39;s correction (N-1) for sample standard deviation (default: true)</li><li><code>auto_digits</code>: Whether to automatically determine significant digits based on error of error (default: true)</li></ul><p>Returns:</p><ul><li>Standard error multiplied by sigma, with appropriate precision if auto_digits=true</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L62-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.error_ns-Tuple{Any}" href="#DataProcessforDQMC.error_ns-Tuple{Any}"><code>DataProcessforDQMC.error_ns</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">error_ns(data)</code></pre><p>error without spikes: Calculate the error of the data after removing the largest and smallest value. #!deprecated</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L116-L120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.euclidean_distance-Tuple{Any, Any}" href="#DataProcessforDQMC.euclidean_distance-Tuple{Any, Any}"><code>DataProcessforDQMC.euclidean_distance</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Calculate Euclidean distance between two points</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-rspace.jl#L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.export_bin_to_csv" href="#DataProcessforDQMC.export_bin_to_csv"><code>DataProcessforDQMC.export_bin_to_csv</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">export_bin_to_csv(
    input_file::String,
    dir::String=pwd();
    output_dir::Union{String, Nothing}=nothing,
    output_file::Union{String, Nothing}=nothing,
    kwargs...
)</code></pre><p>Export a bin file to CSV format.</p><p><strong>Arguments</strong></p><ul><li><code>input_file::String</code>: Input .bin file name</li><li><code>dir::String=pwd()</code>: Directory containing the bin file</li><li><code>output_dir::Union{String, Nothing}=nothing</code>: Output directory (defaults to dir/exported_csv)</li><li><code>output_file::Union{String, Nothing}=nothing</code>: Output filename (defaults to input_file with .csv extension)</li><li><code>kwargs...</code>: Additional arguments passed to <code>export_bin_to_dataframe</code></li></ul><p><strong>Returns</strong></p><ul><li><code>String</code>: Path to the exported CSV file</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Export to default location (data/exported_csv/)
csv_file = export_bin_to_csv(&quot;nn_k.bin&quot;, dir=&quot;data/&quot;)

# Export to custom location
csv_file = export_bin_to_csv(&quot;nn_k.bin&quot;, dir=&quot;data/&quot;, output_dir=&quot;results/&quot;)

# Export with custom filename
csv_file = export_bin_to_csv(&quot;nn_k.bin&quot;, output_file=&quot;correlation_nn.csv&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-export.jl#L169-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.export_bin_to_dataframe" href="#DataProcessforDQMC.export_bin_to_dataframe"><code>DataProcessforDQMC.export_bin_to_dataframe</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">export_bin_to_dataframe(
    input_file::String,
    dir::String=pwd();
    iscorrelation::Bool=true,
    orbital_columns::Union{Vector{Tuple{Int,Int}}, Nothing}=nothing,
    orbital_labels::Union{Vector{String}, Nothing}=nothing
)</code></pre><p>Convert a bin file to a DataFrame with bin index column.</p><p>This function reads a bin file and converts it to a DataFrame format suitable for analysis and visualization. It automatically detects the file structure (k-space vs r-space) and handles both multi-orbital and single-column data.</p><p><strong>Arguments</strong></p><ul><li><code>input_file::String</code>: Input .bin file name</li><li><code>dir::String=pwd()</code>: Directory containing the bin file</li><li><code>iscorrelation::Bool=true</code>: Whether to interpret the file as a correlation function (coordinates + real/imag pairs)</li><li><code>orbital_columns::Union{Vector{Tuple{Int,Int}}, Nothing}=nothing</code>: Column indices for each orbital pair (real, imag). Auto-generated when <code>nothing</code></li><li><code>orbital_labels::Union{Vector{String}, Nothing}=nothing</code>: Labels for each orbital pair (defaults to AA/AB/... or pair1/pair2/...)</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: Converted data with columns: bin, coord1, coord2, data columns...</li></ul><p><strong>Data Structure</strong></p><p>The function handles multiple formats:</p><ol><li><strong>Multi-orbital</strong> (default 10 columns): kx, ky, AA<em>real, AA</em>imag, AB<em>real, AB</em>imag, BA<em>real, BA</em>imag, BB<em>real, BB</em>imag<ul><li>Note: AA, AB, BA, BB represent orbital pairs in two-point correlation functions &lt;c†<em>{i,α} c</em>{j,β}&gt;</li></ul></li><li><strong>Custom orbital pairs</strong>: Specify any number of orbital pairs via <code>orbital_columns</code> and <code>orbital_labels</code></li><li><strong>Single column</strong> (4 columns): kx, ky, value<em>real, value</em>imag</li></ol><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Export k-space correlation function (default 4 orbital pairs: AA, AB, BA, BB)
df = export_bin_to_dataframe(&quot;nn_k.bin&quot;, dir=&quot;data/&quot;)

# Export only diagonal orbital pairs (AA and BB)
df = export_bin_to_dataframe(&quot;nn_k.bin&quot;, 
    orbital_columns=[(3,4), (9,10)],
    orbital_labels=[&quot;AA&quot;, &quot;BB&quot;])

# Export r-space correlation function
df = export_bin_to_dataframe(&quot;nn_r.bin&quot;, dir=&quot;data/&quot;)

# Export AFM structure factor (single column)
df = export_bin_to_dataframe(&quot;afm_sf_k.bin&quot;, dir=&quot;data/&quot;, iscorrelation=true, orbital_columns=[(3,4)], orbital_labels=[&quot;value&quot;])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-export.jl#L20-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.export_bin_to_jld2" href="#DataProcessforDQMC.export_bin_to_jld2"><code>DataProcessforDQMC.export_bin_to_jld2</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">export_bin_to_jld2(
    input_file::String,
    dir::String=pwd();
    output_dir::Union{String, Nothing}=nothing,
    output_file::Union{String, Nothing}=nothing,
    dataset_name::Union{String, Nothing}=nothing,
    kwargs...
)</code></pre><p>Export a bin file to JLD2 format.</p><p><strong>Arguments</strong></p><ul><li><code>input_file::String</code>: Input .bin file name</li><li><code>dir::String=pwd()</code>: Directory containing the bin file</li><li><code>output_dir::Union{String, Nothing}=nothing</code>: Output directory (defaults to dir/exported_jld2)</li><li><code>output_file::Union{String, Nothing}=nothing</code>: Output filename (defaults to input filename with .jld2 extension, e.g., nn_k.jld2)</li><li><code>dataset_name::Union{String, Nothing}=nothing</code>: Dataset name in JLD2 file (defaults to base filename, e.g., &quot;nn_k&quot;)</li><li><code>kwargs...</code>: Additional arguments passed to <code>export_bin_to_dataframe</code></li></ul><p><strong>Returns</strong></p><ul><li><code>String</code>: Path to the exported JLD2 file</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Export to default JLD2 file (nn_k.jld2 with dataset &quot;nn_k&quot;)
jld2_file = export_bin_to_jld2(&quot;nn_k.bin&quot;, dir=&quot;data/&quot;)
# Creates: data/exported_jld2/nn_k.jld2 (dataset: &quot;nn_k&quot;)
# Read: load(&quot;nn_k.jld2&quot;, &quot;nn_k&quot;)

# Export to custom JLD2 file
jld2_file = export_bin_to_jld2(&quot;nn_k.bin&quot;, output_file=&quot;correlations.jld2&quot;)
# Creates: correlations.jld2 (dataset: &quot;nn_k&quot;)

# Multiple datasets in one file (if needed)
export_bin_to_jld2(&quot;nn_k.bin&quot;, output_file=&quot;all_data.jld2&quot;)  # dataset: &quot;nn_k&quot;
export_bin_to_jld2(&quot;nn_r.bin&quot;, output_file=&quot;all_data.jld2&quot;)  # dataset: &quot;nn_r&quot;
# Read: load(&quot;all_data.jld2&quot;, &quot;nn_k&quot;) or load(&quot;all_data.jld2&quot;, &quot;nn_r&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-export.jl#L242-L281">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.export_directory_bins" href="#DataProcessforDQMC.export_directory_bins"><code>DataProcessforDQMC.export_directory_bins</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">export_directory_bins(
    dir::String=pwd();
    file_patterns::Vector{String}=[&quot;*_k.bin&quot;, &quot;*_r.bin&quot;],
    output_format::Symbol=:both,
    output_dir::Union{String, Nothing}=nothing,
    verbose::Bool=true,
    iscorrelation::Union{Bool,Nothing}=nothing,
    orbital_columns::Union{Vector{Tuple{Int,Int}}, Nothing}=nothing,
    orbital_labels::Union{Vector{String}, Nothing}=nothing
)</code></pre><p>Batch export all matching bin files in a directory.</p><p><strong>Arguments</strong></p><ul><li><code>dir::String=pwd()</code>: Directory containing bin files</li><li><code>file_patterns::Vector{String}=[&quot;*_k.bin&quot;, &quot;*_r.bin&quot;]</code>: Glob patterns for files to export</li><li><code>output_format::Symbol=:both</code>: Output format (:csv, :jld2, or :both) - default is :both</li><li><code>output_dir::Union{String, Nothing}=nothing</code>: Output directory</li><li><code>verbose::Bool=true</code>: Print progress information</li><li><code>iscorrelation::Union{Bool,Nothing}=nothing</code>: Whether files should be treated as correlation data. <code>nothing</code> enables auto-detection based on filename (contains <code>_k</code> or <code>_r</code>).</li><li><code>orbital_columns::Union{Vector{Tuple{Int,Int}}, Nothing}=nothing</code>: Optional orbital column mapping passed to export functions (used when <code>iscorrelation</code> is <code>true</code>).</li><li><code>orbital_labels::Union{Vector{String}, Nothing}=nothing</code>: Optional orbital labels passed to export functions (used when <code>iscorrelation</code> is <code>true</code>).</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{String}</code>: Paths to exported files</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Export all k-space and r-space correlation files to both CSV and JLD2 (default)
export_directory_bins(&quot;data/&quot;)

# Export only to CSV
export_directory_bins(&quot;data/&quot;, output_format=:csv)

# Export only k-space files
export_directory_bins(&quot;data/&quot;, file_patterns=[&quot;*_k.bin&quot;])

# Export with custom output directory
export_directory_bins(&quot;data/&quot;, output_dir=&quot;results/&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-export.jl#L346-L387">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.filter" href="#DataProcessforDQMC.filter"><code>DataProcessforDQMC.filter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Remove the max and min of the data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L36-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.filter_bin_file-Tuple{String, Union{Tuple{Float64, Float64}, Tuple{Int64, Int64}}}" href="#DataProcessforDQMC.filter_bin_file-Tuple{String, Union{Tuple{Float64, Float64}, Tuple{Int64, Int64}}}"><code>DataProcessforDQMC.filter_bin_file</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filter_bin_file(
    input_filename::String,
    coordinate::Union{Tuple{Int, Int}, Tuple{Float64, Float64}};
    output_filename::Union{String, Nothing}=nothing,
    dir::String=pwd(),
    tolerance::Float64=1e-6,
    verbose::Bool=false
)</code></pre><p>Extract all bin data for a specific coordinate from a bin file.</p><p>This function filters a bin file to extract only the rows corresponding to a specific  coordinate across all bins. The coordinate can be either:</p><ul><li>k-space (momentum): Tuple{Float64, Float64}, e.g., (0.5, 0.5)</li><li>r-space (real space): Tuple{Int, Int}, e.g., (1, 2)</li></ul><p><strong>Arguments</strong></p><ul><li><code>input_filename::String</code>: Input .bin file (e.g., &quot;nn<em>k.bin&quot;, &quot;nn</em>r.bin&quot;)</li><li><code>coordinate::Union{Tuple{Int, Int}, Tuple{Float64, Float64}}</code>: Target coordinate</li><li><code>output_filename::Union{String, Nothing}=nothing</code>: Output .bin file name. If nothing, auto-generate from coordinate</li><li><code>dir::String=pwd()</code>: Working directory</li><li><code>tolerance::Float64=1e-6</code>: Tolerance for k-space coordinate matching (ignored for r-space)</li><li><code>verbose::Bool=false</code>: Whether to print verbose information</li></ul><p><strong>Returns</strong></p><ul><li><code>String</code>: Path to output file, or empty string if failed</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Filter k-space data for k=(π,π)
filter_bin_file(&quot;nn_k.bin&quot;, (0.5, 0.5), dir=&quot;/path/to/data&quot;)
# Output: nn_k_0.500_0.500.bin

# Filter r-space data for r=(1, 2)
filter_bin_file(&quot;nn_r.bin&quot;, (1, 2), dir=&quot;/path/to/data&quot;)
# Output: nn_r_1_2.bin

# Custom output filename
filter_bin_file(&quot;afm_sf_k.bin&quot;, (0.5, 0.5), output_filename=&quot;afm_pi_pi.bin&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-operations-basic.jl#L646-L687">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.filter_bins-Tuple{DataFrames.DataFrame, Int64, Union{Nothing, Int64}, Int64, Int64, Bool}" href="#DataProcessforDQMC.filter_bins-Tuple{DataFrames.DataFrame, Int64, Union{Nothing, Int64}, Int64, Int64, Bool}"><code>DataProcessforDQMC.filter_bins</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filter_bins(df, startbin, endbin, dropmaxmin, n_bins, verbose; value_columns=[:real_val, :imag_val])</code></pre><p>通用bin过滤函数，支持实空间和k空间数据。</p><p><strong>参数</strong></p><ul><li><code>df</code>: 输入DataFrame</li><li><code>startbin</code>: 起始bin</li><li><code>endbin</code>: 结束bin</li><li><code>dropmaxmin</code>: 丢弃的最大最小值数量 （bin大小的metric为所有坐标，所有<code>value_columns</code>的平均值）</li><li><code>n_bins</code>: 总bin数</li><li><code>verbose</code>: 是否打印详细信息</li><li><code>value_columns</code>: 用于过滤的数值列，默认为[:real<em>val, :imag</em>val]</li></ul><p><strong>过滤逻辑</strong></p><p>该函数按 bin 进行过滤，对每个 bin 计算其所有数据点的平均值，然后排序并丢弃最大/最小的 bin。这确保了在保留数据空间完整性的同时，去除了时间上的离群值。</p><p><strong>返回</strong></p><p>过滤后的DataFrame</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-common.jl#L2-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.find_closest_k_point-Tuple{Vector{&lt;:Tuple{var&quot;#s9&quot;, var&quot;#s10&quot;} where {var&quot;#s9&quot;&lt;:Real, var&quot;#s10&quot;&lt;:Real}}, Tuple{Real, Real}, Float64}" href="#DataProcessforDQMC.find_closest_k_point-Tuple{Vector{&lt;:Tuple{var&quot;#s9&quot;, var&quot;#s10&quot;} where {var&quot;#s9&quot;&lt;:Real, var&quot;#s10&quot;&lt;:Real}}, Tuple{Real, Real}, Float64}"><code>DataProcessforDQMC.find_closest_k_point</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_closest_k_point(k_points, target_k, tolerance)</code></pre><p>Find the closest k-point in a set of k-points to a target k-point.</p><p><strong>Arguments</strong></p><ul><li><code>k_points::Vector{&lt;:Tuple{&lt;:Real,&lt;:Real}}</code>: Vector of k-point coordinates [(kx1, ky1), (kx2, ky2), ...]</li><li><code>target_k::Tuple{&lt;:Real,&lt;:Real}</code>: Target k-point (kx, ky)</li><li><code>tolerance::Float64</code>: Tolerance for matching k-points</li></ul><p><strong>Returns</strong></p><ul><li><code>Tuple{Real, Real}</code>: Closest k-point coordinates (kx, ky)</li><li><code>Bool</code>: Whether it&#39;s an exact match (distance &lt;= tolerance)</li><li><code>Float64</code>: Distance to the target k-point</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">k_points = [(0.0, 0.0), (0.5, 0.0), (0.5, 0.5)]
target = (0.49, 0.51)
closest_k, exact_match, distance = find_closest_k_point(k_points, target, 0.1)
# Returns: ((0.5, 0.5), true, 0.014...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/utilities.jl#L13-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.find_coordinate_index" href="#DataProcessforDQMC.find_coordinate_index"><code>DataProcessforDQMC.find_coordinate_index</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_coordinate_index(coords, target_coord, tolerance)</code></pre><p>Find the index of a coordinate in a coordinate matrix.</p><p>This function handles both r-space (integer) and k-space (float) coordinates:</p><ul><li>For r-space (integer tuples): exact integer matching</li><li>For k-space (float tuples): nearest neighbor matching with tolerance</li></ul><p><strong>Arguments</strong></p><ul><li><code>coords::Matrix</code>: Matrix of coordinates (Nx2, first two columns of bin file)</li><li><code>target_coord::Union{Tuple{Int, Int}, Tuple{Float64, Float64}}</code>: Target coordinate</li><li><code>tolerance::Float64=1e-6</code>: Tolerance for k-space matching (ignored for r-space)</li></ul><p><strong>Returns</strong></p><ul><li><code>Union{Int, Nothing}</code>: Index of the coordinate (1-based), or Nothing if not found</li><li><code>Bool</code>: Whether the match is exact (k-space) or found (r-space)</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># R-space example
coords = [1.0 1.0; 1.0 2.0; 2.0 1.0]
idx, exact = find_coordinate_index(coords, (1, 2), 1e-6)
# Returns: (2, true)

# K-space example
coords = [0.0 0.0; 0.5 0.0; 0.5 0.5]
idx, exact = find_coordinate_index(coords, (0.49, 0.51), 0.1)
# Returns: (3, true)  # distance = 0.014 &lt; 0.1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/utilities.jl#L51-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_edgerdata-Tuple{String, String}" href="#DataProcessforDQMC.format_edgerdata-Tuple{String, String}"><code>DataProcessforDQMC.format_edgerdata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_edgerdata(data_dir::String, obsname::String; ifsave::Bool = false)</code></pre><p>A generic formatter for r-dependent data along the edge of a cylinder with each row corresponding to a bin and a spatial position.  The spatial position is from 1 to L/2, where L is the length of the edge (typically an even number). Format the <code>obsname.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file. In the <code>.csv</code> file, the first column is the bin index, the second column is the spatial position, and the third column is the value of the observable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L289-L295">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_edgerfulldata-Tuple{String, String}" href="#DataProcessforDQMC.format_edgerfulldata-Tuple{String, String}"><code>DataProcessforDQMC.format_edgerfulldata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_edgerfulldata(data_dir::String, obsname::String; ifsave::Bool = false)</code></pre><p>A generic formatter for r-dependent data along the edge of a cylinder with each row corresponding to a bin and a spatial position.  Contain all the two-point correlation information between all points along the same edges. Format the <code>obsname.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file. In the <code>.csv</code> file, the first column is the bin index, the second column is the edge number,  the third column is the starting point i, the fourth column is the distance from i,  and the fifth column is the value of the observable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L324-L332">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_energy-Tuple{String, Vector{String}}" href="#DataProcessforDQMC.format_energy-Tuple{String, Vector{String}}"><code>DataProcessforDQMC.format_energy</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_energy(data_dir::String, energy_list::Array{String,1})</code></pre><p>Format the <code>energy.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L146-L149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_expRenyi_2p_edge-Tuple{String}" href="#DataProcessforDQMC.format_expRenyi_2p_edge-Tuple{String}"><code>DataProcessforDQMC.format_expRenyi_2p_edge</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_expRenyi_2p_edge(data_dir::String)</code></pre><p>Format the <code>expRenyiN2_2p_edge.bin</code> and <code>expRenyiSth_2p_edge.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L388-L391">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_kdata-Tuple{String, String}" href="#DataProcessforDQMC.format_kdata-Tuple{String, String}"><code>DataProcessforDQMC.format_kdata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_kdata(data_dir::String, obsname::String; ifsave::Bool = false)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L249-L251">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_onecol-Tuple{String, String}" href="#DataProcessforDQMC.format_onecol-Tuple{String, String}"><code>DataProcessforDQMC.format_onecol</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_onecol(data_dir::String, obsname::String; ifsave::Bool = false)</code></pre><p>A generic formatter for one-column data with each row corresponding to a bin. Format the <code>obsname.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file. In the <code>.csv</code> file, the first column is the bin index, and the second column is the value of the observable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L179-L184">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_pair_onsite_alledges-Tuple{String}" href="#DataProcessforDQMC.format_pair_onsite_alledges-Tuple{String}"><code>DataProcessforDQMC.format_pair_onsite_alledges</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_pair_onsite_alledges(data_dir::String)</code></pre><p>Format the <code>pair_onsite_alledges.bin</code>, <code>pair_onsite_interedges.bin</code> and <code>pair_onsite_intraedges.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L369-L372">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_pair_onsite_r-Tuple{String, Int64}" href="#DataProcessforDQMC.format_pair_onsite_r-Tuple{String, Int64}"><code>DataProcessforDQMC.format_pair_onsite_r</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_pair_onsite_r(data_dir::String, L::Int)</code></pre><p>Format the <code>pair_onsite_r.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file. For now, only support one sublattice system. This function support old-fashioned output data, i.e., only output the values without the coordinates, so users need to specify the lattice size <code>L</code>. Just a compatibility function for old-fashioned output, and will be deprecated in the future.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L405-L411">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_rdata-Tuple{String, String}" href="#DataProcessforDQMC.format_rdata-Tuple{String, String}"><code>DataProcessforDQMC.format_rdata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_rdata(data_dir::String, obsname::String; ifsave::Bool = false)</code></pre><p>A generic formatter for r-dependent data with each row corresponding to a bin and a spatial position. Format the <code>obsname.bin</code> in <code>data_dir</code> into a dataframe and store it in a <code>.csv</code> and <code>.toml</code> file. For now, only support 2D system with one sublattice. In the <code>.csv</code> file, the first column is the bin index, the second and third columns are the x and y coordinates, and the fourth column is the value of the observable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L208-L214">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.format_value_error" href="#DataProcessforDQMC.format_value_error"><code>DataProcessforDQMC.format_value_error</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_value_error(value, error, error_sig_digits=1)</code></pre><p>Format a value and its error with appropriate precision using scientific notation.</p><p>The error is formatted to the specified number of significant digits. The value is rounded to match the precision of the error.</p><p>Arguments:</p><ul><li><code>value</code>: The main value to format</li><li><code>error</code>: The error/uncertainty of the value</li><li><code>error_sig_digits</code>: Number of significant digits to use for the error (default: 1)</li></ul><p>Returns:</p><ul><li>Tuple of (formatted<em>value, formatted</em>error) as strings in scientific notation</li></ul><p>Examples:</p><pre><code class="language-julia hljs"># Default 1 significant digit for error
format_value_error(2.36738, 0.0023)     # Returns (&quot;2.367e+00&quot;, &quot;0.003e0&quot;)
format_value_error(2.36738, 0.00023)    # Returns (&quot;2.3674e+00&quot;, &quot;0.0003e0&quot;)

# With 2 significant digits for error
format_value_error(2.36738, 0.0023, 2)  # Returns (&quot;2.3674e+00&quot;, &quot;0.0023e0&quot;)

# Large numbers
format_value_error(2367.38, 23)         # Returns (&quot;2.37e+03&quot;, &quot;0.03e3&quot;)
format_value_error(2367.38, 23, 2)      # Returns (&quot;2.367e+03&quot;, &quot;0.023e3&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L184-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.generate_all_derived_files" href="#DataProcessforDQMC.generate_all_derived_files"><code>DataProcessforDQMC.generate_all_derived_files</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_all_derived_files(dir::AbstractString=pwd();
                           afm_source::String=&quot;ss_k.bin&quot;, 
                           cdwpair_source::String=&quot;cdwpair_k.bin&quot;, 
                           verbose::Bool=true)</code></pre><p>生成目录中所有衍生数据文件，包括反铁磁和电荷密度波/配对相关的文件。</p><p><strong>参数</strong></p><ul><li><code>dir::AbstractString=pwd()</code>: 数据目录，默认为当前目录</li><li><code>afm_source::String=&quot;ss_k.bin&quot;</code>: 用于生成反铁磁结构因子的源文件名，默认为&quot;ss_k.bin&quot;</li><li><code>cdwpair_source::String=&quot;cdwpair_k.bin&quot;</code>: 用于生成CDW配对结构因子的源文件名，默认为&quot;cdwpair_k.bin&quot;</li><li><code>verbose::Bool=true</code>: 是否输出详细信息，默认为true</li></ul><p><strong>返回值</strong></p><ul><li><code>Dict{String, String}</code>: 包含生成的文件路径的字典，键为文件名，值为完整路径</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 在当前目录生成所有衍生数据文件
files = generate_all_derived_files(verbose=true)

# 指定目录和源文件
files = generate_all_derived_files(dir=&quot;/path/to/data&quot;, afm_source=&quot;spsm_k.bin&quot;, cdwpair_source=&quot;cdw_k.bin&quot;)

# 如果只需要生成特定类型的文件，可以直接调用相应的函数
afm_files = afm_k_files_generation(dir, afm_source=&quot;spsm_k.bin&quot;)
cdw_files = cdwpair_k_files_generation(dir, cdwpair_source=&quot;cdw_k.bin&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation.jl#L24-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.generate_all_derived_files_recursive" href="#DataProcessforDQMC.generate_all_derived_files_recursive"><code>DataProcessforDQMC.generate_all_derived_files_recursive</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_all_derived_files_recursive(base_dir::AbstractString=pwd();
                                     pattern::Regex=r&quot;.&quot;, 
                                     max_depth::Int=1,
                                     afm_source::String=&quot;ss_k.bin&quot;, 
                                     cdwpair_source::String=&quot;cdwpair_k.bin&quot;, 
                                     verbose::Bool=true)</code></pre><p>递归地生成多个目录中的所有衍生数据文件。</p><p><strong>参数</strong></p><ul><li><code>base_dir::AbstractString=pwd()</code>: 基础目录，默认为当前目录</li><li><code>pattern::Regex=r&quot;.&quot;</code>: 用于匹配目录名的正则表达式</li><li><code>max_depth::Int=1</code>: 最大递归深度</li><li><code>afm_source::String=&quot;ss_k.bin&quot;</code>: 用于生成反铁磁结构因子的源文件名，默认为&quot;ss_k.bin&quot;</li><li><code>cdwpair_source::String=&quot;cdwpair_k.bin&quot;</code>: 用于生成CDW配对结构因子的源文件名，默认为&quot;cdwpair_k.bin&quot;</li><li><code>verbose::Bool=true</code>: 是否输出详细信息，默认为true</li></ul><p><strong>返回值</strong></p><ul><li><code>Dict{String, Dict{String, String}}</code>: 包含每个目录生成文件的嵌套字典</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 在当前目录及其子目录中生成所有衍生数据文件
results = generate_all_derived_files_recursive(verbose=true)

# 只处理符合特定模式的目录
results = generate_all_derived_files_recursive(pattern=r&quot;^proj_fft_&quot;, verbose=true)

# 递归处理2层目录
results = generate_all_derived_files_recursive(max_depth=2, verbose=true)

# 指定源文件
results = generate_all_derived_files_recursive(
    base_dir=&quot;/path/to/data&quot;,
    afm_source=&quot;spsm_k.bin&quot;,
    cdwpair_source=&quot;cdw_k.bin&quot;,
    verbose=true
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation.jl#L85-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.insert_parameters_cols-Tuple{DataFrames.DataFrame, String}" href="#DataProcessforDQMC.insert_parameters_cols-Tuple{DataFrames.DataFrame, String}"><code>DataProcessforDQMC.insert_parameters_cols</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">insert_parameters_cols(df::DataFrame,data_dir::String)</code></pre><p>Exact parameters from <code>data_dir</code> and insert them as columns into <code>df</code>. e.g. <code>data_dir = &quot;.../proj_majo_cy.b16.000.U-4.00.Delta_ppm0.4.mu-0.5.L8.dtau0.05/&quot;</code>  will extract <code>beta</code>, <code>U</code>, <code>Delta_ppm</code>, <code>mu</code>, <code>L</code> and <code>dtau</code> from it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/read-dataframes.jl#L36-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.k_filter-Tuple{DataFrames.DataFrame, Tuple{Float64, Float64}}" href="#DataProcessforDQMC.k_filter-Tuple{DataFrames.DataFrame, Tuple{Float64, Float64}}"><code>DataProcessforDQMC.k_filter</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">k_filter(df::DataFrame, k::Tuple{Float64,Float64})</code></pre><p>Filter the data at k = (kx,ky).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L23-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.mean_ns-Tuple{Any}" href="#DataProcessforDQMC.mean_ns-Tuple{Any}"><code>DataProcessforDQMC.mean_ns</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mean_ns(data)</code></pre><p>mean without spikes: Calculate the mean of the data after removing the largest and smallest value. #!deprecated</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L106-L110">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.merge_afm_sf" href="#DataProcessforDQMC.merge_afm_sf"><code>DataProcessforDQMC.merge_afm_sf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">merge_afm_sf(
    output_file::AbstractString=&quot;afm_sf_k.bin&quot;,
    input_file::AbstractString=&quot;ss_k.bin&quot;,
    output_dir::AbstractString=pwd(),
    input_dir::AbstractString=pwd();
    verbose::Bool=true
)</code></pre><p>计算反铁磁结构因子并保存到文件。</p><p><strong>参数</strong></p><ul><li><code>output_file::AbstractString=&quot;afm_sf_k.bin&quot;</code>: 输出文件名</li><li><code>input_file::AbstractString=&quot;ss_k.bin&quot;</code>: 输入文件名</li><li><code>output_dir::AbstractString=pwd()</code>: 输出文件目录</li><li><code>input_dir::AbstractString=pwd()</code>: 输入文件目录</li><li><code>verbose::Bool=true</code>: 是否显示详细信息</li></ul><p><strong>返回值</strong></p><ul><li><code>String</code>: 输出文件的完整路径或者空字符串</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 使用默认设置计算反铁磁结构因子
output_path = merge_afm_sf()

# 指定输出和输入文件名及目录
output_path = merge_afm_sf(&quot;my_afm_sf_k.bin&quot;, &quot;my_ss_k.bin&quot;, &quot;/output/dir&quot;, &quot;/input/dir&quot;, verbose=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation-afm.jl#L147-L176">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.merge_bin_columns" href="#DataProcessforDQMC.merge_bin_columns"><code>DataProcessforDQMC.merge_bin_columns</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function merge_bin_columns(
    output_filename::String,
    input_filename::String,
    real_columns::Vector{Int},
    imag_columns::Vector{Int},
    weights::Vector{Float64}=ones(length(real_columns)),
    output_dir::String=pwd(),
    input_dir::String=pwd();
    preserve_columns::UnitRange{Int}=1:2,
    verbose::Bool=false
)</code></pre><p>将一个多列数据中的指定列合并为单列，生成新的数据文件。</p><p>参数：</p><ul><li><code>output_filename</code>: 输出文件名</li><li><code>input_filename</code>: 输入文件名</li><li><code>real_columns</code>: 要合并的实部列索引</li><li><code>imag_columns</code>: 要合并的虚部列索引</li><li><code>weights</code>: 每对列的权重，默认全为1.0</li><li><code>output_dir</code>: 输出目录，默认为当前目录</li><li><code>input_dir</code>: 输入目录，默认为当前目录</li><li><code>preserve_columns</code>: 要保留的列范围，默认为1:2（通常是k点坐标）</li><li><code>verbose</code>: 是否输出详细信息，默认为false</li></ul><p>返回：</p><ul><li>合并后的文件完整路径或者空字符串（如果失败）</li></ul><p>示例：</p><pre><code class="language-julia hljs"># 合并AA和BB轨道到单列文件
merged_file = merge_bin_columns(
    &quot;merged.bin&quot;,       # 输出文件名
    &quot;spsm_k.bin&quot;,      # 输入文件名
    [3, 9],           # 实部列（AA和BB轨道的实部）
    [4, 10],          # 虚部列（AA和BB轨道的虚部）
    [1.0, 1.0]        # 权重
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-operations-basic.jl#L322-L362">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.merge_cdw_sf" href="#DataProcessforDQMC.merge_cdw_sf"><code>DataProcessforDQMC.merge_cdw_sf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">merge_cdw_sf(
    output_file::AbstractString=&quot;cdwpair_sf_k.bin&quot;,
    input_file::AbstractString=&quot;cdwpair_k.bin&quot;,
    output_dir::AbstractString=pwd(),
    input_dir::AbstractString=pwd();
    verbose::Bool=true
)</code></pre><p>计算电荷密度波结构因子并保存到文件。</p><p><strong>参数</strong></p><ul><li><code>output_file::AbstractString=&quot;cdwpair_sf_k.bin&quot;</code>: 输出文件名</li><li><code>input_file::AbstractString=&quot;cdwpair_k.bin&quot;</code>: 输入文件名</li><li><code>output_dir::AbstractString=pwd()</code>: 输出文件目录</li><li><code>input_dir::AbstractString=pwd()</code>: 输入文件目录</li><li><code>verbose::Bool=true</code>: 是否显示详细信息</li></ul><p><strong>返回值</strong></p><ul><li><code>String</code>: 输出文件的完整路径或者空字符串</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 使用默认设置计算电荷密度波结构因子
output_path = merge_cdw_sf()

# 指定输出和输入文件名及目录
output_path = merge_cdw_sf(&quot;my_output.bin&quot;, &quot;my_input.bin&quot;, &quot;/output/dir&quot;, &quot;/input/dir&quot;, verbose=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/derived-bin-generation-cdwpair.jl#L254-L283">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.merge_staggered_components" href="#DataProcessforDQMC.merge_staggered_components"><code>DataProcessforDQMC.merge_staggered_components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">merge_staggered_components(
    output_filename::String=&quot;afm_sf_k.bin&quot;,
    input_filename::String=&quot;ss_k.bin&quot;,
    output_dir::String=pwd(),
    input_dir::String=pwd();
    real_columns::Vector{Int}=[3, 9, 5, 7],  # [AA, BB, AB, BA] 实部列
    imag_columns::Vector{Int}=[4, 10, 6, 8], # [AA, BB, AB, BA] 虚部列
    preserve_columns::UnitRange{Int}=1:2,
    verbose::Bool=false
)</code></pre><p>将多列数据使用交错相位的方式合并，生成新的数据文件。 公式: S = A + B - C - D，其中 A, B, C, D 分别对应数组中的四个列索引。</p><p>这种合并方式常用于计算反铁磁结构因子，其中 S<em>AF = AA + BB - AB - BA。 默认的文件名设置（ss</em>k.bin -&gt; afm<em>sf</em>k.bin）反映了这一应用场景。</p><p><strong>参数</strong></p><ul><li><code>output_filename::String=&quot;afm_sf_k.bin&quot;</code>: 输出文件名</li><li><code>input_filename::String=&quot;ss_k.bin&quot;</code>: 输入文件名</li><li><code>output_dir::String=pwd()</code>: 输出目录，默认为当前目录</li><li><code>input_dir::String=pwd()</code>: 输入目录，默认为当前目录</li><li><code>real_columns::Vector{Int}=[3, 9, 5, 7]</code>: 实部列索引数组，顺序为[A, B, C, D]</li><li><code>imag_columns::Vector{Int}=[4, 10, 6, 8]</code>: 虚部列索引数组，顺序为[A, B, C, D]</li><li><code>preserve_columns::UnitRange{Int}=1:2</code>: 要保留的列范围，默认为1:2（通常是k点坐标）</li><li><code>verbose::Bool=false</code>: 是否输出详细信息，默认为false</li></ul><p><strong>返回值</strong></p><ul><li>合并后的文件完整路径或者空字符串（如果失败）</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 计算反铁磁结构因子
afm_sf_file = merge_staggered_components(
    &quot;afm_sf_k.bin&quot;,
    &quot;ss_k.bin&quot;
)

# 自定义列索引
result = merge_staggered_components(
    &quot;custom_output.bin&quot;,
    &quot;custom_input.bin&quot;,
    real_columns=[3, 5, 7, 9],
    imag_columns=[4, 6, 8, 10]
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-operations-basic.jl#L463-L511">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.merge_uniform_components" href="#DataProcessforDQMC.merge_uniform_components"><code>DataProcessforDQMC.merge_uniform_components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">merge_uniform_components(
    output_filename::String=&quot;cdwpair_sf_k.bin&quot;,
    input_filename::String=&quot;cdwpair_k.bin&quot;,
    output_dir::String=pwd(),
    input_dir::String=pwd();
    real_columns::Vector{Int}=[3, 9, 5, 7],  # [A, B, C, D] 实部列
    imag_columns::Vector{Int}=[4, 10, 6, 8], # [A, B, C, D] 虚部列
    preserve_columns::UnitRange{Int}=1:2,
    verbose::Bool=false
)</code></pre><p>将多列数据使用统一相位的方式合并，生成新的数据文件。 公式: S = A + B + C + D，其中 A, B, C, D 分别对应数组中的四个列索引。</p><p>这种合并方式常用于计算电荷结构因子，其中 S<em>charge = AA + BB + AB + BA。 默认的文件名设置（cdwpair</em>k.bin -&gt; cdwpair<em>sf</em>k.bin）反映了这一应用场景。</p><p><strong>参数</strong></p><ul><li><code>output_filename::String=&quot;cdwpair_sf_k.bin&quot;</code>: 输出文件名</li><li><code>input_filename::String=&quot;cdwpair_k.bin&quot;</code>: 输入文件名</li><li><code>output_dir::String=pwd()</code>: 输出目录，默认为当前目录</li><li><code>input_dir::String=pwd()</code>: 输入目录，默认为当前目录</li><li><code>real_columns::Vector{Int}=[3, 9, 5, 7]</code>: 实部列索引数组，顺序为[A, B, C, D]</li><li><code>imag_columns::Vector{Int}=[4, 10, 6, 8]</code>: 虚部列索引数组，顺序为[A, B, C, D]</li><li><code>preserve_columns::UnitRange{Int}=1:2</code>: 要保留的列范围，默认为1:2（通常是k点坐标）</li><li><code>verbose::Bool=false</code>: 是否输出详细信息，默认为false</li></ul><p><strong>返回值</strong></p><ul><li>合并后的文件完整路径或者空字符串（如果失败）</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 计算电荷结构因子
cdwpair_sf_file = merge_uniform_components(
    &quot;cdwpair_sf_k.bin&quot;,
    &quot;cdwpair_k.bin&quot;
)

# 自定义列索引
result = merge_uniform_components(
    &quot;custom_output.bin&quot;,
    &quot;custom_input.bin&quot;,
    real_columns=[3, 5, 7, 9],
    imag_columns=[4, 6, 8, 10]
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-operations-basic.jl#L553-L601">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.print_af_structure_factor_result-NTuple{8, Any}" href="#DataProcessforDQMC.print_af_structure_factor_result-NTuple{8, Any}"><code>DataProcessforDQMC.print_af_structure_factor_result</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_af_structure_factor_result(k_point, mean_value, err_value, formatted_value, filename)</code></pre><p>打印反铁磁结构因子分析结果。</p><p>参数:</p><ul><li><code>k_point</code>: 分析的k点</li><li><code>mean_value</code>: 平均值</li><li><code>err_value</code>: 误差</li><li><code>formatted_value</code>: 格式化后的结果字符串</li><li><code>filename</code>: 分析的文件名</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/structure-factor.jl#L51-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.print_correlation_results-NTuple{8, Any}" href="#DataProcessforDQMC.print_correlation_results-NTuple{8, Any}"><code>DataProcessforDQMC.print_correlation_results</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_correlation_results(results_df, filename, Lx, Ly, dropmaxmin, startbin, endbin, n_bins)</code></pre><p>Print single-orbital correlation analysis results.</p><p>Arguments:</p><ul><li><code>results_df</code>: DataFrame containing analysis results</li><li><code>filename</code>: Name of the correlation file</li><li><code>Lx</code>, <code>Ly</code>: Lattice dimensions</li><li><code>dropmaxmin</code>: Number of maximum and minimum values dropped</li><li><code>startbin</code>, <code>endbin</code>: Bin range used</li><li><code>n_bins</code>: Total number of bins</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-rspace.jl#L33-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.print_correlation_results_multi_orbital-NTuple{9, Any}" href="#DataProcessforDQMC.print_correlation_results_multi_orbital-NTuple{9, Any}"><code>DataProcessforDQMC.print_correlation_results_multi_orbital</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_correlation_results_multi_orbital(results_df, filename, Lx, Ly, orbital_labels, dropmaxmin, startbin, endbin, n_bins)</code></pre><p>Print multi-orbital correlation analysis results.</p><p>Arguments:</p><ul><li><code>results_df</code>: DataFrame containing analysis results</li><li><code>filename</code>: Name of the correlation file</li><li><code>Lx</code>, <code>Ly</code>: Lattice dimensions</li><li><code>orbital_labels</code>: Array of orbital labels</li><li><code>dropmaxmin</code>: Number of maximum and minimum values dropped</li><li><code>startbin</code>, <code>endbin</code>: Bin range used</li><li><code>n_bins</code>: Total number of bins</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-rspace.jl#L76-L89">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.print_kspace_correlation_results-NTuple{6, Any}" href="#DataProcessforDQMC.print_kspace_correlation_results-NTuple{6, Any}"><code>DataProcessforDQMC.print_kspace_correlation_results</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_kspace_correlation_results(results_df, filename, dropmaxmin, startbin, endbin, n_bins)</code></pre><p>打印k空间关联分析结果。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-kspace.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.print_kspace_correlation_results_multi_orbital-NTuple{7, Any}" href="#DataProcessforDQMC.print_kspace_correlation_results_multi_orbital-NTuple{7, Any}"><code>DataProcessforDQMC.print_kspace_correlation_results_multi_orbital</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_kspace_correlation_results_multi_orbital(results_df, filename, orbital_labels, dropmaxmin, startbin, endbin, n_bins)</code></pre><p>打印多轨道k空间关联分析结果。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/correlations-kspace.jl#L50-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.print_structure_factor_result" href="#DataProcessforDQMC.print_structure_factor_result"><code>DataProcessforDQMC.print_structure_factor_result</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_structure_factor_result(k_point, mean_real, mean_imag, err_real, err_imag, 
                             formatted_real, formatted_imag, filename, orbital=&quot;&quot;)</code></pre><p>打印结构因子分析结果。</p><p>参数:</p><ul><li><code>k_point</code>: 分析的k点</li><li><code>mean_real</code>, <code>mean_imag</code>: 平均值（实部和虚部）</li><li><code>err_real</code>, <code>err_imag</code>: 误差（实部和虚部）</li><li><code>formatted_real</code>, <code>formatted_imag</code>: 格式化后的结果字符串</li><li><code>filename</code>: 分析的文件名</li><li><code>orbital</code>: 轨道标签（可选，用于多轨道分析）</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/single-parameter-analysis/structure-factor.jl#L20-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.read_format_data-Tuple{String, String}" href="#DataProcessforDQMC.read_format_data-Tuple{String, String}"><code>DataProcessforDQMC.read_format_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_format_data(dataname::String, data_dir::String)</code></pre><p>Read <code>dataname.csv</code> and <code>dataname.toml</code> in <code>data_dir</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/read-dataframes.jl#L60-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.round_error-Tuple{AbstractFloat, Number}" href="#DataProcessforDQMC.round_error-Tuple{AbstractFloat, Number}"><code>DataProcessforDQMC.round_error</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">round_error(error_val, error_of_error)</code></pre><p>Round an error value based on its error of error.</p><p>The error is rounded to be precise to one digit before the first significant digit of error of error. This ensures that the reported error has appropriate precision.</p><p>Arguments:</p><ul><li><code>error_val</code>: The error value to be rounded</li><li><code>error_of_error</code>: The error of the error (uncertainty in the error estimate)</li></ul><p>Returns:</p><ul><li>Rounded error value with appropriate precision</li><li>The number of significant digits in the rounded error</li></ul><p>Examples:</p><pre><code class="language-julia hljs">round_error(23456, 2345)    # Returns (30000,1)
round_error(2.3456, 0.002345)  # Returns (2.35,3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L131-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.save_analysis_results" href="#DataProcessforDQMC.save_analysis_results"><code>DataProcessforDQMC.save_analysis_results</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">save_analysis_results(df::DataFrame, filename::AbstractString=&quot;analysis_results.csv&quot;)</code></pre><p>将分析结果保存到CSV文件。</p><p><strong>参数</strong></p><ul><li><code>df::DataFrame</code>: 要保存的DataFrame</li><li><code>filename::AbstractString=&quot;analysis_results.csv&quot;</code>: 输出文件名</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/common-functions.jl#L144-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.scale_bin_columns" href="#DataProcessforDQMC.scale_bin_columns"><code>DataProcessforDQMC.scale_bin_columns</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scale_bin_columns(
    output_filename::String,
    input_filename::String,
    column_factors::Union{Vector{&lt;:Real}, Dict{Int, &lt;:Real}},
    output_dir::String=pwd(),
    input_dir::String=pwd();
    preserve_columns::Union{Vector{Int}, UnitRange{Int}, Nothing}=nothing,
    default_factor::Real=1.0,
    verbose::Bool=false
)</code></pre><p>对二进制数据文件的指定列应用标量因子。</p><p><strong>参数</strong></p><ul><li><code>output_filename::String</code>: 输出文件名</li><li><code>input_filename::String</code>: 输入文件名</li><li><code>column_factors::Union{Vector{&lt;:Real}, Dict{Int, &lt;:Real}}</code>: 列因子，可以是向量（按顺序应用）或字典（指定列索引）</li><li><code>output_dir::String=pwd()</code>: 输出文件目录</li><li><code>input_dir::String=pwd()</code>: 输入文件目录</li><li><code>preserve_columns::Union{Vector{Int}, UnitRange{Int}, Nothing}=nothing</code>: 保持不变的列索引（这些列将不应用因子）</li><li><code>default_factor::Real=1.0</code>: 未指定列的默认因子</li><li><code>verbose::Bool=false</code>: 是否输出详细信息</li></ul><p><strong>返回值</strong></p><ul><li><code>String</code>: 生成的文件完整路径</li></ul><p><strong>示例</strong></p><pre><code class="language-julia hljs"># 对第3-10列应用不同的标量因子
scale_bin_columns(
    &quot;scaled_output.bin&quot;,  # 输出文件名
    &quot;input.bin&quot;,          # 输入文件名
    [1, 1, 0.5, 0.5, -1, -1, 0.25, 0.25],  # 列因子
    preserve_columns=1:2,  # 前两列保持不变
    verbose=true
)

# 使用字典指定特定列的因子
scale_bin_columns(
    &quot;scaled_output.bin&quot;,
    &quot;input.bin&quot;,
    Dict(3 =&gt; 0.5, 4 =&gt; 0.5, 5 =&gt; -1, 6 =&gt; -1),  # 只修改指定列
    default_factor=1.0,  # 其他列保持原值
    verbose=true
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/data-processing/bin-file-operations-basic.jl#L179-L226">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.scan_parameter_directories" href="#DataProcessforDQMC.scan_parameter_directories"><code>DataProcessforDQMC.scan_parameter_directories</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scan_parameter_directories(base_dir::AbstractString=pwd(); 
                          filter_options::Union{Dict, NamedTuple}=Dict(), 
                          return_params::Bool=false) -&gt; Union{Vector{String}, Vector{Tuple{String,String,Vector{Tuple{String,Any,Int}}}}}</code></pre><p>Scan and filter subdirectories based on parameters parsed from directory names.</p><p><strong>Arguments</strong></p><ul><li><code>base_dir::AbstractString=pwd()</code>: Base directory (default: current dir)</li><li><code>filter_options::Union{Dict, NamedTuple}=Dict()</code>: Filtering rules by value type:<ul><li>Single value: equality match. Value may be Number (Int/Float), Bool, or String (e.g. a prefix string).</li><li>Array: membership match. Elements may be Number, Bool, or String.</li><li>Tuple(min, max): closed interval match, numeric only (do not use for Bool or String).</li></ul>Common keys include <code>&quot;prefix&quot;</code>, <code>&quot;b&quot;</code>, <code>&quot;U&quot;</code>, <code>&quot;L&quot;</code>, <code>&quot;dtau&quot;</code>, <code>&quot;gw&quot;</code>, <code>&quot;lprojgw&quot;</code>.</li><li><code>return_params::Bool=false</code>: Whether to also return parsed parameter info.</li></ul><p><strong>Returns</strong></p><ul><li>When <code>return_params=false</code>: <code>Vector{String}</code> of matching directory paths</li><li>When <code>return_params=true</code>: <code>Vector{Tuple{String,String,Vector{Tuple{String,Any,Int}}}}</code> of <code>(dir_path, prefix, params_vector)</code></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Prefix + array match
scan_parameter_directories(&quot;.&quot;; filter_options = Dict(&quot;prefix&quot;=&gt;&quot;proj_x&quot;, &quot;U&quot;=&gt;[4.0,6.0]))

# Bool flag
scan_parameter_directories(&quot;.&quot;; filter_options = Dict(&quot;lprojgw&quot;=&gt;true))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/multiple-parameter-analysis/common-functions.jl#L21-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.statistics_columns-Tuple{DataFrames.DataFrame}" href="#DataProcessforDQMC.statistics_columns-Tuple{DataFrames.DataFrame}"><code>DataProcessforDQMC.statistics_columns</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">statistics_columns(df_tmp::DataFrame)</code></pre><p>average and error of each column of a dataframe with only <code>bin</code> and data columns. #!deprecated</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L330-L334">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.statistics_columns_withparas-Tuple{Any}" href="#DataProcessforDQMC.statistics_columns_withparas-Tuple{Any}"><code>DataProcessforDQMC.statistics_columns_withparas</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">statistics_columns_withparas(df_tmp::DataFrame, paras)</code></pre><p>average and error of a dataframe with <code>bin</code> column, parameter columns specified by <code>paras</code> (symbols) and data columns. #!deprecated</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/statistics.jl#L351-L355">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DataProcessforDQMC.write_df-Tuple{DataFrames.DataFrame, String, String}" href="#DataProcessforDQMC.write_df-Tuple{DataFrames.DataFrame, String, String}"><code>DataProcessforDQMC.write_df</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_df(df::DataFrame, data_dir::String, dataname::String)</code></pre><p>Write <code>df</code> into <code>data_dir/formatted_data/dataname.csv</code> and <code>data_dir/formatted_data/dataname.toml</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/wangfh5/DataProcessforDQMC.jl/blob/982906e1290c6519ef7dccd756230ad0ff8ea728/src/format-dataframes.jl#L112-L115">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../multi_parameter_analysis/">« 多参数分析指南</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Thursday 23 October 2025 03:59">Thursday 23 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
